CREATE TABLE HUB_TUNNEL_STATIC_SERVER (
  tunnelStaticServerId VARCHAR2(32) NOT NULL,
  tenantId VARCHAR2(32) NOT NULL,
  serverName VARCHAR2(100) NOT NULL,
  serverDescription VARCHAR2(500),
  listenAddress VARCHAR2(50) DEFAULT '0.0.0.0' NOT NULL,
  listenPort NUMBER(10) NOT NULL,
  serverType VARCHAR2(20) DEFAULT 'tcp' NOT NULL,
  maxConnections NUMBER(10) DEFAULT 1000 NOT NULL,
  connectionTimeout NUMBER(10) DEFAULT 60 NOT NULL,
  readTimeout NUMBER(10) DEFAULT 30 NOT NULL,
  writeTimeout NUMBER(10) DEFAULT 30 NOT NULL,
  tlsEnable VARCHAR2(1) DEFAULT 'N' NOT NULL,
  tlsCertFile VARCHAR2(255),
  tlsKeyFile VARCHAR2(255),
  tlsCaFile VARCHAR2(255),
  logLevel VARCHAR2(10) DEFAULT 'info' NOT NULL,
  logFile VARCHAR2(255),
  serverStatus VARCHAR2(20) DEFAULT 'stopped' NOT NULL,
  startTime TIMESTAMP,
  stopTime TIMESTAMP,
  currentConnectionCount NUMBER(10) DEFAULT 0,
  totalConnectionCount NUMBER(19) DEFAULT 0,
  totalBytesReceived NUMBER(19) DEFAULT 0,
  totalBytesSent NUMBER(19) DEFAULT 0,
  healthCheckType VARCHAR2(20) DEFAULT 'tcp',
  healthCheckUrl VARCHAR2(255),
  healthCheckInterval NUMBER(10) DEFAULT 30,
  healthCheckTimeout NUMBER(10) DEFAULT 5,
  healthCheckMaxFailures NUMBER(10) DEFAULT 3,
  loadBalanceType VARCHAR2(20) DEFAULT 'roundrobin',
  serverConfig CLOB,
  addTime TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
  addWho VARCHAR2(32) NOT NULL,
  editTime TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
  editWho VARCHAR2(32) NOT NULL,
  oprSeqFlag VARCHAR2(32) NOT NULL,
  currentVersion NUMBER(10) DEFAULT 1 NOT NULL,
  activeFlag VARCHAR2(1) DEFAULT 'Y' NOT NULL,
  noteText VARCHAR2(500),
  extProperty CLOB,
  reserved1 VARCHAR2(500),
  reserved2 VARCHAR2(500),
  reserved3 VARCHAR2(500),
  reserved4 VARCHAR2(500),
  reserved5 VARCHAR2(500),
  reserved6 VARCHAR2(500),
  reserved7 VARCHAR2(500),
  reserved8 VARCHAR2(500),
  reserved9 VARCHAR2(500),
  reserved10 VARCHAR2(500),
  CONSTRAINT PK_TUNNEL_STATIC_SVR PRIMARY KEY (tunnelStaticServerId),
  CONSTRAINT UK_TUNNEL_STATIC_SVR_NAME UNIQUE (serverName),
  CONSTRAINT UK_TUNNEL_STATIC_SVR_PORT UNIQUE (listenAddress, listenPort, serverType)
);

CREATE INDEX IDX_TUNNEL_STATIC_SVR_TENANT ON HUB_TUNNEL_STATIC_SERVER(tenantId);
CREATE INDEX IDX_TUNNEL_STATIC_SVR_STATUS ON HUB_TUNNEL_STATIC_SERVER(serverStatus);
CREATE INDEX IDX_TUNNEL_STATIC_SVR_TYPE ON HUB_TUNNEL_STATIC_SERVER(serverType);

COMMENT ON TABLE HUB_TUNNEL_STATIC_SERVER IS '静态隧道服务器表，管理静态端口转发服务配置';

