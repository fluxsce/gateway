# 隧道服务前端模块拆分总结

## 模块拆分概述

原来的 `hub0060` 隧道服务管理模块已经按照不同的业务逻辑拆分为多个独立的前端模块：

## 模块列表

### hub0060 - 隧道服务器管理模块
- **功能**: 专门负责隧道服务器的管理
- **API前缀**: `/gateway/hub0060`
- **主要功能**:
  - 隧道服务器的增删改查
  - 服务器状态管理和监控
  - 服务器连接测试
  - 服务器统计信息
  - 认证令牌生成

### hub0061 - 隧道服务静态映射管理模块
- **功能**: 管理隧道静态端口映射和域名映射配置
- **API前缀**: `/gateway/hub0061`
- **主要功能**:
  - 端口映射管理（TCP/UDP）
  - 域名映射管理（HTTP/HTTPS）
  - 子域名映射管理
  - SSL/TLS配置
  - 访问控制和安全配置
  - 负载均衡配置
  - 限流和缓存配置
  - 端口和域名占用检查

### hub0062 - 隧道客户端管理模块
- **功能**: 专门负责隧道客户端的管理
- **API前缀**: `/gateway/hub0062`
- **主要功能**:
  - 隧道客户端的增删改查
  - 客户端状态和连接管理
  - 客户端连接测试
  - 客户端统计信息
  - 认证令牌生成

### hub0063 - 隧道服务配置管理模块
- **功能**: 管理隧道服务的具体配置
- **API前缀**: `/gateway/hub0063`
- **主要功能**:
  - 隧道服务的增删改查
  - 服务类型配置（TCP/UDP/HTTP/HTTPS等）
  - 本地和远程端口配置
  - 加密和压缩配置
  - 带宽和连接数限制
  - 服务状态和流量统计
  - 端口和域名可用性检查

### hub0064 - 隧道配置元数据管理模块
- **功能**: 提供各种配置选项和元数据
- **API前缀**: `/gateway/hub0064`
- **主要功能**:
  - 状态选项（服务器状态、客户端状态、服务状态等）
  - 类型选项（服务类型、协议类型、映射类型等）
  - 下拉列表数据（服务器列表、客户端列表等）
  - 元数据聚合接口

## 技术实现

### 共享组件
- **通用工具包**: `web/views/common/utils.go` 提供通用的响应处理和用户信息获取功能
- **数据库接口**: 所有模块使用统一的数据库接口
- **路由注册**: 使用自动路由注册机制

### 数据访问层
每个模块都有独立的：
- **Models**: 定义数据结构和查询请求模型
- **DAO**: 数据访问对象，提供数据库操作接口（当前使用模拟数据）
- **Controllers**: 控制器处理HTTP请求和响应
- **Routes**: 路由配置和注册

### 模块特点
1. **职责单一**: 每个模块专注于特定的业务领域
2. **独立部署**: 可以独立开发、测试和部署
3. **API一致性**: 统一的API设计模式和响应格式
4. **可扩展性**: 易于添加新功能和修改现有功能
5. **模拟数据**: 当前使用模拟数据，便于前端开发和测试

## 使用说明

### API调用示例
```bash
# 查询隧道服务器列表
POST /gateway/hub0060/queryTunnelServers

# 查询隧道客户端列表  
POST /gateway/hub0062/queryTunnelClients

# 查询隧道服务列表
POST /gateway/hub0063/queryTunnelServices

# 获取所有元数据
POST /gateway/hub0064/getAllMetadata
```

### 前端集成
- 每个模块提供完整的CRUD操作接口
- 统一的分页、搜索和过滤支持
- 丰富的元数据接口支持前端组件渲染
- 实时状态更新和统计信息

## 后续开发

1. **数据库集成**: 将模拟数据替换为真实的数据库操作
2. **权限控制**: 完善各模块的权限验证
3. **性能优化**: 添加缓存和性能监控
4. **测试覆盖**: 添加单元测试和集成测试
5. **文档完善**: 生成API文档和使用指南
