import{G as ne}from"./GDataFormModal-CSMMbGYO.js";import{c as ie,G as ue,S as ce}from"./SearchForm-DE-Qtsds.js";import{G as de}from"./GPane--Prg37Qg.js";import{r as g,aa as z,m as H,d as re,a7 as Q,q as pe,g as G,w as b,j as X,e as o,z as Z,A as fe,B as ee,o as $,b as m,f as T,a9 as me,bW as ve,bX as he,K as B,t as V,aO as be,i as ge,bV as ye,G as we,cq as Ie,h as _e,ab as De,I as Ue,_ as se,c as ke,cr as te,am as ae}from"./index-B5iwLEhr.js";import{G as Ne}from"./GModal-CvXv33Ng.js";import{G as xe}from"./GTree-CARio0VW.js";import{g as Se,d as le,e as Ce,a as Me,q as Oe,b as Ee,f as Ke}from"./index-mX_sFnFK.js";import{L as Ae,P as Le}from"./PersonOutline-BzQr0Wyq.js";import{P as Fe}from"./PeopleCircleOutline-BgLoATqO.js";/* empty css                                                                    */import{u as Te}from"./useGDialog-Cwnj3s3l.js";import{A as Pe}from"./AddOutline-B-id1ApB.js";import{C as Ye}from"./CreateOutline-BfzQYr6W.js";import{T as ze}from"./TrashOutline-CSUZLE0I.js";import{W}from"./WarningOutline-DxiSA20j.js";import"./DatePicker-BYwGRPWG.js";import"./Select-DZOKbeI6.js";import"./DownloadOutline-DPvimYCK.js";import"./Upload-DDMphz35.js";import"./download-C2161hUv.js";import"./DocumentOutline-Dn_EdPz-.js";import"./Grid-CNbyDJRX.js";import"./InputNumber-DRvou0Uu.js";import"./Switch-Dznk0CX3.js";import"./index-DR_R-bYe.js";import"./RefreshOutline-Ca-9cWyP.js";import"./OptionsOutline-B8oCHVC7.js";import"./InformationCircleOutline-v7Gk8MOG.js";import"./ContractOutline-Ba-N9rKU.js";import"./CloseOutline-EA3x-23V.js";import"./CopyOutline-D29-WYAX.js";import"./Checkbox-CEPM1LtD.js";import"./GDialog-DGaxvIOE.js";import"./Scrollbar-zuiunsUR.js";var F=(r=>(r.ENABLED="Y",r.DISABLED="N",r))(F||{}),P=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.MALE=1]="MALE",r[r.FEMALE=2]="FEMALE",r))(P||{}),O=(r=>(r.YES="Y",r.NO="N",r))(O||{});function Be(){const r="hub0002",u=g(!1),s=g([]),l=g(),n={fields:[{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:6,clearable:!0},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:6,clearable:!0},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:6,clearable:!0,options:[{label:"全部",value:""},{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]}],moreFields:[{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:6,clearable:!0},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:6,clearable:!0}],toolbarButtons:[{key:"add",label:"新增",icon:Pe,type:"primary",tooltip:"新增用户"},{key:"edit",label:"编辑",icon:Ye,tooltip:"编辑选中的用户"},{key:"delete",label:"删除",icon:ze,type:"error",tooltip:"删除选中的用户"},{key:"resetPassword",label:"重置密码",icon:Ae,tooltip:"重置选中用户的密码"}],showSearchButton:!0,showResetButton:!0},y=[{key:"basic",label:"主信息"},{key:"custom",label:"自定义"},{key:"other",label:"其他"}],f=[{field:"userId",label:"用户ID",type:"input",placeholder:"请输入用户ID",span:8,tabKey:"basic",required:!0,primary:!0},{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:8,tabKey:"basic",required:!0},{field:"password",label:"密码",type:"input",placeholder:"请输入密码",span:8,tabKey:"basic",show:a=>!a.userId,required:!0,props:{type:"password",showPasswordOn:"click"}},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:8,tabKey:"basic",required:!0},{field:"deptId",label:"部门ID",type:"input",placeholder:"请输入部门ID",span:8,tabKey:"basic"},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:8,tabKey:"basic"},{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:8,tabKey:"basic"},{field:"avatar",label:"头像地址",type:"input",placeholder:"请输入头像URL",span:8,tabKey:"custom",show:!1},{field:"gender",label:"性别",type:"select",placeholder:"请选择性别",span:8,tabKey:"basic",options:[{label:"未知",value:P.UNKNOWN},{label:"男",value:P.MALE},{label:"女",value:P.FEMALE}]},{field:"roles",label:"角色",type:"custom",span:8,tabKey:"custom",show:!1},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:8,tabKey:"basic",defaultValue:F.ENABLED,options:[{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]},{field:"deptAdminFlag",label:"部门管理员",type:"switch",span:8,tabKey:"basic",defaultValue:O.NO,props:{checkedValue:O.YES,uncheckedValue:O.NO}},{field:"tenantAdminFlag",label:"租户管理员",type:"switch",span:8,tabKey:"basic",defaultValue:O.NO,props:{checkedValue:O.YES,uncheckedValue:O.NO}},{field:"userExpireDate",label:"用户过期时间",type:"datetime",placeholder:"请选择过期时间",span:8,tabKey:"basic",required:!0,rules:[{required:!0,message:"请选择用户过期时间",trigger:["blur","change"]}]},{field:"lastLoginTime",label:"最后登录时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"lastLoginIp",label:"最后登录IP",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"addTime",label:"创建时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"addWho",label:"创建人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"editTime",label:"修改时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"editWho",label:"修改人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"oprSeqFlag",label:"操作序列标识",type:"input",span:8,tabKey:"other",disabled:!0},{field:"currentVersion",label:"当前版本号",type:"number",span:8,disabled:!0,tabKey:"other"},{field:"activeFlag",label:"活动标记",type:"select",span:8,tabKey:"basic",defaultValue:O.YES,options:[{label:"活动",value:O.YES},{label:"非活动",value:O.NO}]},{field:"noteText",label:"备注",type:"textarea",placeholder:"请输入备注信息",span:24,tabKey:"custom"}],N={columns:[{field:"userId",title:"用户ID",showOverflow:!0},{field:"userName",title:"用户名",sortable:!0,showOverflow:!0},{field:"realName",title:"姓名",sortable:!0,showOverflow:!0},{field:"deptId",title:"部门ID",showOverflow:!0},{field:"email",title:"邮箱",showOverflow:!0},{field:"mobile",title:"手机号",showOverflow:!0},{field:"gender",title:"性别",align:"center",formatter:({cellValue:a})=>{switch(a){case P.MALE:return"男";case P.FEMALE:return"女";default:return"未知"}}},{field:"statusFlag",title:"状态",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.statusFlag===F.ENABLED?"success":"danger",content:a.statusFlag===F.ENABLED?"启用":"禁用"})}},{field:"deptAdminFlag",title:"部门管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"tenantAdminFlag",title:"租户管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"userExpireDate",title:"用户过期时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginTime",title:"最后登录时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginIp",title:"最后登录IP",showOverflow:!0},{field:"addTime",title:"创建时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"addWho",title:"创建人",showOverflow:!0},{field:"editTime",title:"修改时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"editWho",title:"修改人",showOverflow:!0},{field:"oprSeqFlag",title:"操作序列标识",showOverflow:!0},{field:"currentVersion",title:"当前版本号",align:"center",showOverflow:!0},{field:"activeFlag",title:"活动标记",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.activeFlag===O.YES?"success":"default",content:a.activeFlag===O.YES?"活动":"非活动"})}},{field:"noteText",title:"备注",showOverflow:"tooltip"}],showCheckbox:!0,paginationConfig:{show:!0,pageInfo:l,align:"right"},menuConfig:{enabled:!0,showCopyRow:!0,showCopyCell:!0,customMenus:[{code:"view",name:"查看详情",prefixIcon:"vxe-icon-eye-fill"},{code:"edit",name:"编辑",prefixIcon:"vxe-icon-edit"},{code:"delete",name:"删除",prefixIcon:"vxe-icon-delete"},{code:"resetPassword",name:"重置密码",prefixIcon:"vxe-icon-lock"},{code:"roleAuth",name:"用户授权",prefixIcon:"vxe-icon-user"}]},height:"100%"},w=()=>{l.value=void 0},D=a=>{l.value?Object.assign(l.value,a):l.value=a},x=a=>{s.value=a},E=()=>{s.value=[]},S=a=>{s.value.unshift(a)},h=(a,K,L)=>{const d=s.value.findIndex(v=>v.userId===a&&v.tenantId===K);d!==-1&&Object.assign(s.value[d],L)},U=(a,K)=>{const L=s.value.findIndex(d=>d.userId===a&&d.tenantId===K);L!==-1&&s.value.splice(L,1)};return{moduleId:r,loading:u,userList:s,pageInfo:l,searchFormConfig:n,formTabs:y,formFields:f,gridConfig:N,resetPagination:w,updatePagination:D,setUserList:x,clearUserList:E,addUserToList:S,updateUserInList:h,removeUserFromList:U,removeUsersFromList:a=>{a.forEach(K=>{U(K.userId,K.tenantId)})}}}function Ve(r){const u=H(),s=Te(),l=Be(),{loading:n,userList:y,pageInfo:f,setUserList:N,updatePagination:w,addUserToList:D,updateUserInList:x,removeUserFromList:E,removeUsersFromList:S}=l,h=async i=>{var e,t,c;n.value=!0;try{let p=i;!p&&((e=r==null?void 0:r.value)!=null&&e.getFormData)&&(p=r.value.getFormData()||{});const Y={...p?Object.fromEntries(Object.entries(p).filter(([,A])=>A!==""&&A!==null&&A!==void 0)):{},...ie((t=f.value)==null?void 0:t.pageIndex,(c=f.value)==null?void 0:c.pageSize)},_=await Oe(Y);if(_.oK){if(_.bizData){const A=JSON.parse(_.bizData),q=Array.isArray(A)?A:[];N(q)}if(_.pageQueryData){const A=JSON.parse(_.pageQueryData);w(A)}}else u.error(_.errMsg||"查询用户列表失败")}catch(p){console.error("加载用户列表失败:",p),u.error("加载用户列表失败")}finally{n.value=!1}};return{model:l,loadUsers:h,handleSearch:async i=>{await h(i)},handleReset:async()=>{l.resetPagination(),await h()},handlePageChange:async({currentPage:i,pageSize:e})=>{w({pageIndex:i,pageSize:e}),await h()},handleRefresh:async()=>{await h()},addUser:async i=>{n.value=!0;try{const e=await Me(i);if(e.oK&&e.state){if(u.success(e.popMsg||"新增用户成功"),e.bizData){const t=JSON.parse(e.bizData);D(t)}else await h();return!0}else return u.error(e.errMsg||e.popMsg||"新增用户失败"),!1}catch(e){return console.error("新增用户失败:",e),u.error("新增用户失败"),!1}finally{n.value=!1}},editUser:async i=>{n.value=!0;try{const e=await Ce(i);if(e.oK&&e.state){if(u.success(e.popMsg||"编辑用户成功"),e.bizData){const t=JSON.parse(e.bizData);x(t.userId,t.tenantId,t)}else x(i.userId,i.tenantId,i);return!0}else return u.error(e.errMsg||e.popMsg||"编辑用户失败"),!1}catch(e){return console.error("编辑用户失败:",e),u.error("编辑用户失败"),!1}finally{n.value=!1}},deleteUser:async i=>{if(!await s.warning({title:"确认删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除用户 "${i.realName||i.userName}" 吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{const t=await le(i.userId,i.tenantId);return t.oK&&t.state?(u.success(t.popMsg||"删除用户成功"),E(i.userId,i.tenantId),y.value.length===0&&f.value&&f.value.pageIndex>1&&(w({pageIndex:f.value.pageIndex-1}),await h()),!0):(u.error(t.errMsg||t.popMsg||"删除用户失败"),!1)}catch(t){return console.error("删除用户失败:",t),u.error("删除用户失败"),!1}finally{n.value=!1}},batchDeleteUsers:async i=>{if(!await s.warning({title:"确认批量删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除选中的 ${i.length} 个用户吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{let t=0,c=0;for(const p of i)try{const I=await le(p.userId,p.tenantId);I.oK&&I.state?t++:c++}catch{c++}return t>0?(u.success(`成功删除 ${t} 个用户${c>0?`，失败 ${c} 个`:""}`),S(i.slice(0,t)),await h(),!0):(u.error(`删除失败，共 ${c} 个`),!1)}catch(t){return console.error("批量删除用户失败:",t),u.error("批量删除用户失败"),!1}finally{n.value=!1}},resetPassword:async i=>{if(!await s.warning({title:"确认重置密码",subtitle:"新密码将通过邮件发送给用户",content:`确定要重置用户 "${i.realName||i.userName}" 的密码吗？`,icon:W,headerStyle:"gradient",positiveText:"确定重置",negativeText:"取消",width:500}))return!1;n.value=!0;try{return u.success("密码重置成功，新密码已发送至用户邮箱"),!0}catch(t){return console.error("重置密码失败:",t),u.error("重置密码失败"),!1}finally{n.value=!1}},viewUser:async i=>{try{const e=await Se(i.userId,i.tenantId);return e.oK?JSON.parse(e.bizData):(u.error(e.errMsg||"获取用户详情失败"),null)}catch(e){return console.error("获取用户详情失败:",e),u.error("获取用户详情失败"),null}}}}function $e(r,u){const s=H(),l=Ve(u),n=g(!1),y=g("create"),f=g(null),N=()=>{y.value="create",f.value=null,n.value=!0},w=d=>{y.value="edit",f.value=d,n.value=!0},D=()=>{n.value=!1,f.value=null},x=d=>{y.value="view",f.value=d,n.value=!0},E=async d=>{await l.handleSearch(d)},S=async d=>{if(d&&y.value!=="view"){if(y.value==="create")await l.addUser(d)&&D();else if(y.value==="edit"){if(!f.value)return;const v={...f.value,...d};await l.editUser(v)&&D()}}},h=async(d,v)=>{switch(d){case"add":N();break;case"edit":{if(!(r!=null&&r.value)){s.warning("Grid 引用未设置");return}const C=r.value.getCurrentRecord();if(!C){s.warning("请先点击选择要编辑的用户");return}w(C);break}case"delete":{if(!(r!=null&&r.value)){s.warning("Grid 引用未设置");return}const C=r.value.getCurrentRecord();if(!C){s.warning("请先点击选择要删除的用户");return}await l.deleteUser(C);break}case"resetPassword":{if(!(r!=null&&r.value)){s.warning("Grid 引用未设置");return}const C=r.value.getCurrentRecord();if(!C){s.warning("请先点击选择要重置密码的用户");return}await l.resetPassword(C);break}case"search":{await l.handleSearch(v);break}}},U=g(!1),M=g(null),a=d=>{M.value=d,U.value=!0};return{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:f,openAddDialog:N,openEditDialog:w,openViewDialog:x,handleFormSubmit:S,roleAuthDialogVisible:U,currentAuthUser:M,openRoleAuthDialog:a,closeRoleAuthDialog:()=>{U.value=!1,M.value=null},handleToolbarClick:h,handleMenuClick:async({code:d,row:v})=>{if(v)switch(d){case"view":x(v);break;case"edit":w(v);break;case"delete":await l.deleteUser(v);break;case"resetPassword":await l.resetPassword(v);break;case"roleAuth":a(v);break}},handleSearch:E}}const qe={class:"user-role-auth-content"},Ge={class:"info-header"},We={class:"config-header"},He={class:"role-list-container"},Re=re({__name:"UserRoleAuthDialog",props:{visible:{type:Boolean,default:!1},userId:{default:""},user:{default:void 0}},emits:["update:visible","close","saved"],setup(r,{emit:u}){const s=r,l=u,n=H(),y=X({get:()=>s.visible,set:e=>l("update:visible",e)}),f=g(!1),N=g(!1),w=g(""),D=g(s.user),x=g([]),E=g([]),S=g([]),h=g([]),U=g([]),M=X(()=>{if(!w.value)return x.value;const e=w.value.toLowerCase();return a(x.value,e)});function a(e,t){const c=[];for(const p of e){const Y=(p.label||"").toLowerCase().includes(t);let _;p.children&&p.children.length>0&&(_=a(p.children,t)),(Y||_&&_.length>0)&&c.push({...p,children:_&&_.length>0?_:void 0})}return c}const K=()=>{},L=()=>{l("update:visible",!1),l("close")};function d(e){S.value=e,h.value=e}async function v(){if(s.userId){f.value=!0;try{const e=await Ee(s.userId);if(Z(e)){const t=fe(e,[]);U.value=t,x.value=C(t);const c=R(t);S.value=c,h.value=[...c],E.value=j(t)}else n.error(ee(e)||"加载角色列表失败")}catch(e){n.error(e.message||"加载角色列表失败")}finally{f.value=!1}}}function C(e){return e.map(t=>({key:t.roleId,label:t.roleName,children:t.children&&t.children.length>0?C(t.children):void 0}))}function R(e){const t=[];function c(p){for(const I of p)I.checked===!0&&t.push(I.roleId),I.children&&I.children.length>0&&c(I.children)}return c(e),t}function j(e){const t=[];function c(p){for(const I of p)t.push(I.roleId),I.children&&I.children.length>0&&c(I.children)}return c(e),t}async function i(){if(!s.userId){n.error("用户ID不能为空");return}if(h.value.length===0){n.warning("请至少选择一个角色");return}N.value=!0;try{const e=h.value.join(","),t=await Ke({userId:s.userId,roleIds:e});Z(t)?(n.success("保存成功"),l("saved"),await v(),l("update:visible",!1)):n.error(ee(t)||"保存失败")}catch(e){n.error(e.message||"保存失败")}finally{N.value=!1}}return Q(()=>s.visible,e=>{e&&s.userId?(D.value=s.user,v()):e||(x.value=[],S.value=[],h.value=[],E.value=[],w.value="",U.value=[])},{immediate:!0}),Q(()=>s.userId,e=>{e&&s.visible&&v()}),pe(()=>{s.visible&&s.userId&&v()}),(e,t)=>{const c=ge,p=he,I=be,Y=ve,_=me,A=we,q=ye,oe=Ue;return $(),G(o(Ne),{visible:y.value,"onUpdate:visible":t[1]||(t[1]=k=>y.value=k),title:"用户角色授权",preset:"dialog",width:"800px","mask-closable":!1,closable:!0,"show-footer":!0,"show-cancel":!0,"show-confirm":!0,"cancel-text":"取消","confirm-text":"保存","confirm-loading":N.value,onClose:L,onCancel:L,onConfirm:i},{default:b(()=>[m(oe,{show:f.value},{default:b(()=>[T("div",qe,[m(_,{size:"small",class:"user-info"},{header:b(()=>[T("div",Ge,[m(c,{size:"18",color:"#18a058"},{default:b(()=>[m(o(Le))]),_:1}),t[2]||(t[2]=T("span",null,"用户信息",-1))])]),default:b(()=>[m(Y,{column:2,size:"small"},{default:b(()=>[m(p,{label:"用户ID"},{default:b(()=>{var k;return[B(V((k=D.value)==null?void 0:k.userId),1)]}),_:1}),m(p,{label:"用户名"},{default:b(()=>{var k;return[B(V((k=D.value)==null?void 0:k.userName),1)]}),_:1}),m(p,{label:"真实姓名"},{default:b(()=>{var k;return[B(V((k=D.value)==null?void 0:k.realName),1)]}),_:1}),m(p,{label:"状态"},{default:b(()=>{var k;return[m(I,{type:((k=D.value)==null?void 0:k.statusFlag)==="Y"?"success":"error",size:"small"},{default:b(()=>{var J;return[B(V(((J=D.value)==null?void 0:J.statusFlag)==="Y"?"启用":"禁用"),1)]}),_:1},8,["type"])]}),_:1})]),_:1})]),_:1}),m(_,{size:"small",class:"role-selection"},{header:b(()=>[T("div",We,[m(c,{size:"18",color:"#f0a020"},{default:b(()=>[m(o(Fe))]),_:1}),t[3]||(t[3]=T("span",null,"角色选择",-1))])]),default:b(()=>[m(q,{vertical:"",size:16},{default:b(()=>[m(A,{value:w.value,"onUpdate:value":t[0]||(t[0]=k=>w.value=k),placeholder:"搜索角色名称或描述",clearable:"",onInput:K},{prefix:b(()=>[m(c,null,{default:b(()=>[m(o(Ie))]),_:1})]),_:1},8,["value"]),T("div",He,[!f.value&&M.value.length>0?($(),G(o(xe),{key:0,data:M.value,checkable:!0,cascade:!1,"check-strategy":"all","show-line":!0,"default-expanded-keys":E.value,"checked-keys":S.value,"virtual-scroll":!0,"onUpdate:checkedKeys":d},null,8,["data","default-expanded-keys","checked-keys"])):!f.value&&M.value.length===0?($(),G(o(De),{key:1,description:"暂无角色数据"})):_e("",!0)])]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1},8,["visible","confirm-loading"])}}}),je=se(Re,[["__scopeId","data-v-4ba042b7"]]),Je=["id"],Qe=re({name:"UserManagement",__name:"UserManagement",setup(r){const u=g(),s=g(),{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:f,roleAuthDialogVisible:N,currentAuthUser:w,handleFormSubmit:D,handleToolbarClick:x,handleMenuClick:E,handleSearch:S}=$e(s,u);return(h,U)=>{var M;return $(),ke("div",{class:"user-management",id:o(l).model.moduleId},[m(o(de),{direction:"vertical","default-size":"80px"},{1:b(()=>[m(ce,ae({ref_key:"searchFormRef",ref:u,"module-id":o(l).model.moduleId},o(l).model.searchFormConfig,{onSearch:o(S),onToolbarClick:o(x)}),null,16,["module-id","onSearch","onToolbarClick"])]),2:b(()=>[m(o(ue),ae({ref_key:"gridRef",ref:s,"module-id":o(l).model.moduleId,data:o(l).model.userList,loading:o(l).model.loading},o(l).model.gridConfig,{onPageChange:o(l).handlePageChange,onMenuClick:o(E)}),null,16,["module-id","data","loading","onPageChange","onMenuClick"])]),_:1}),m(ne,{visible:o(n),"onUpdate:visible":U[0]||(U[0]=a=>te(n)?n.value=a:null),mode:o(y),title:o(y)==="create"?"新增用户":o(y)==="edit"?"编辑用户":"查看用户详情",to:`#${o(l).model.moduleId}`,"form-fields":o(l).model.formFields,"form-tabs":o(l).model.formTabs,"initial-data":o(f)||void 0,"auto-close-on-confirm":!1,"confirm-loading":o(l).model.loading.value,onSubmit:o(D)},null,8,["visible","mode","title","to","form-fields","form-tabs","initial-data","confirm-loading","onSubmit"]),m(je,{visible:o(N),"onUpdate:visible":U[1]||(U[1]=a=>te(N)?N.value=a:null),"user-id":((M=o(w))==null?void 0:M.userId)||"",user:o(w)||void 0,onSaved:o(S)},null,8,["visible","user-id","user","onSaved"])],8,Je)}}}),Et=se(Qe,[["__scopeId","data-v-f5d7f0b6"]]);export{Et as default};
