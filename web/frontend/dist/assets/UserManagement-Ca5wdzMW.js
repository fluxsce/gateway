import{u as ne,G as ie}from"./GDataFormModal-ujK6EWMq.js";import{c as ue,G as ce,S as de}from"./SearchForm-BrJVyB-j.js";import{G as pe}from"./GPane-wUfMyun8.js";import{r as g,ab as z,m as H,d as se,c as Q,a7 as X,v as fe,h as q,w as b,f as o,z as Z,A as me,B as ee,o as V,e as m,g as P,aa as ve,bP as he,bQ as be,K as B,t as $,aO as ge,j as ye,bO as we,G as Ie,ci as _e,i as De,a9 as Ue,I as ke,_ as re,b as xe,cj as te,am as ae}from"./index-5EEl7uBB.js";import{G as Ne}from"./GModal-ChRg2nWo.js";import{G as Se}from"./GTree-D8TpU_mp.js";import{g as Ce,d as le,e as Oe,a as Me,q as Ee,b as Ke,f as Ae}from"./index-W788QjNq.js";import{L as Le,P as Fe}from"./PersonOutline-CUgBZ8yj.js";import{P as Pe}from"./PeopleCircleOutline-BW1YWpWa.js";/* empty css                                                                    */import{A as Te,T as Ye}from"./TrashOutline-B_Fdd9Cw.js";import{C as ze}from"./CreateOutline-BLyYB2je.js";import{W}from"./WarningOutline-DrWbb0Pb.js";import"./GDialog-bShGBhcX.js";import"./Scrollbar-OdgpPYnU.js";import"./CloseOutline-DdMvPTyN.js";import"./DatePicker-DFmKMzO1.js";import"./Select-CXtu4E1G.js";import"./DownloadOutline-k4HyeYDj.js";import"./Upload-Wspc5QQu.js";import"./download-C2161hUv.js";import"./Grid-D9pJ1pfL.js";import"./InputNumber-B4XP-lw5.js";import"./Switch-f5gQ9wHB.js";import"./index-DR_R-bYe.js";import"./RefreshOutline-Dv7r-Rd6.js";import"./OptionsOutline-B8PF3uz2.js";import"./InformationCircleOutline-PSlRY60z.js";import"./CopyOutline-2jxZNuNf.js";import"./Checkbox-BCDhRVJN.js";var F=(s=>(s.ENABLED="Y",s.DISABLED="N",s))(F||{}),T=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.MALE=1]="MALE",s[s.FEMALE=2]="FEMALE",s))(T||{}),M=(s=>(s.YES="Y",s.NO="N",s))(M||{});function Be(){const s="hub0002",u=g(!1),r=g([]),l=g(),n={fields:[{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:6,clearable:!0},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:6,clearable:!0},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:6,clearable:!0,options:[{label:"全部",value:""},{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]}],moreFields:[{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:6,clearable:!0},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:6,clearable:!0}],toolbarButtons:[{key:"add",label:"新增",icon:Te,type:"primary",tooltip:"新增用户"},{key:"edit",label:"编辑",icon:ze,tooltip:"编辑选中的用户"},{key:"delete",label:"删除",icon:Ye,type:"error",tooltip:"删除选中的用户"},{key:"resetPassword",label:"重置密码",icon:Le,tooltip:"重置选中用户的密码"}],showSearchButton:!0,showResetButton:!0},y=[{key:"basic",label:"主信息"},{key:"custom",label:"自定义"},{key:"other",label:"其他"}],f=[{field:"userId",label:"用户ID",type:"input",placeholder:"请输入用户ID",span:8,tabKey:"basic",required:!0,primary:!0},{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:8,tabKey:"basic",required:!0},{field:"password",label:"密码",type:"input",placeholder:"请输入密码",span:8,tabKey:"basic",required:!0,props:{type:"password",showPasswordOn:"click"}},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:8,tabKey:"basic",required:!0},{field:"deptId",label:"部门ID",type:"input",placeholder:"请输入部门ID",span:8,tabKey:"basic"},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:8,tabKey:"basic"},{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:8,tabKey:"basic"},{field:"avatar",label:"头像地址",type:"input",placeholder:"请输入头像URL",span:8,tabKey:"custom",show:!1},{field:"gender",label:"性别",type:"select",placeholder:"请选择性别",span:8,tabKey:"basic",options:[{label:"未知",value:T.UNKNOWN},{label:"男",value:T.MALE},{label:"女",value:T.FEMALE}]},{field:"roles",label:"角色",type:"custom",span:8,tabKey:"custom",show:!1},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:8,tabKey:"basic",defaultValue:F.ENABLED,options:[{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]},{field:"deptAdminFlag",label:"部门管理员",type:"switch",span:8,tabKey:"basic",defaultValue:M.NO,props:{checkedValue:M.YES,uncheckedValue:M.NO}},{field:"tenantAdminFlag",label:"租户管理员",type:"switch",span:8,tabKey:"basic",defaultValue:M.NO,props:{checkedValue:M.YES,uncheckedValue:M.NO}},{field:"userExpireDate",label:"用户过期时间",type:"datetime",placeholder:"请选择过期时间",span:8,tabKey:"basic",required:!0,rules:[{required:!0,message:"请选择用户过期时间",trigger:["blur","change"]}]},{field:"lastLoginTime",label:"最后登录时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"lastLoginIp",label:"最后登录IP",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"addTime",label:"创建时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"addWho",label:"创建人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"editTime",label:"修改时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"editWho",label:"修改人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"oprSeqFlag",label:"操作序列标识",type:"input",span:8,tabKey:"other",disabled:!0},{field:"currentVersion",label:"当前版本号",type:"number",span:8,disabled:!0,tabKey:"other"},{field:"activeFlag",label:"活动标记",type:"select",span:8,tabKey:"basic",defaultValue:M.YES,options:[{label:"活动",value:M.YES},{label:"非活动",value:M.NO}]},{field:"noteText",label:"备注",type:"textarea",placeholder:"请输入备注信息",span:24,tabKey:"custom"}],x={columns:[{field:"userId",title:"用户ID",showOverflow:!0},{field:"userName",title:"用户名",sortable:!0,showOverflow:!0},{field:"realName",title:"姓名",sortable:!0,showOverflow:!0},{field:"deptId",title:"部门ID",showOverflow:!0},{field:"email",title:"邮箱",showOverflow:!0},{field:"mobile",title:"手机号",showOverflow:!0},{field:"gender",title:"性别",align:"center",formatter:({cellValue:a})=>{switch(a){case T.MALE:return"男";case T.FEMALE:return"女";default:return"未知"}}},{field:"statusFlag",title:"状态",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.statusFlag===F.ENABLED?"success":"danger",content:a.statusFlag===F.ENABLED?"启用":"禁用"})}},{field:"deptAdminFlag",title:"部门管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"tenantAdminFlag",title:"租户管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"userExpireDate",title:"用户过期时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginTime",title:"最后登录时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginIp",title:"最后登录IP",showOverflow:!0},{field:"addTime",title:"创建时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"addWho",title:"创建人",showOverflow:!0},{field:"editTime",title:"修改时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"editWho",title:"修改人",showOverflow:!0},{field:"oprSeqFlag",title:"操作序列标识",showOverflow:!0},{field:"currentVersion",title:"当前版本号",align:"center",showOverflow:!0},{field:"activeFlag",title:"活动标记",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.activeFlag===M.YES?"success":"default",content:a.activeFlag===M.YES?"活动":"非活动"})}},{field:"noteText",title:"备注",showOverflow:"tooltip"}],showCheckbox:!0,paginationConfig:{show:!0,pageInfo:l,align:"right"},menuConfig:{enabled:!0,showCopyRow:!0,showCopyCell:!0,customMenus:[{code:"view",name:"查看详情",prefixIcon:"vxe-icon-eye-fill"},{code:"edit",name:"编辑",prefixIcon:"vxe-icon-edit"},{code:"delete",name:"删除",prefixIcon:"vxe-icon-delete"},{code:"resetPassword",name:"重置密码",prefixIcon:"vxe-icon-lock"},{code:"roleAuth",name:"用户授权",prefixIcon:"vxe-icon-user"}]},height:"100%"},w=()=>{l.value=void 0},D=a=>{l.value?Object.assign(l.value,a):l.value=a},N=a=>{r.value=a},E=()=>{r.value=[]},S=a=>{r.value.unshift(a)},h=(a,K,L)=>{const d=r.value.findIndex(v=>v.userId===a&&v.tenantId===K);d!==-1&&Object.assign(r.value[d],L)},U=(a,K)=>{const L=r.value.findIndex(d=>d.userId===a&&d.tenantId===K);L!==-1&&r.value.splice(L,1)};return{moduleId:s,loading:u,userList:r,pageInfo:l,searchFormConfig:n,formTabs:y,formFields:f,gridConfig:x,resetPagination:w,updatePagination:D,setUserList:N,clearUserList:E,addUserToList:S,updateUserInList:h,removeUserFromList:U,removeUsersFromList:a=>{a.forEach(K=>{U(K.userId,K.tenantId)})}}}function $e(s){const u=H(),r=ne(),l=Be(),{loading:n,userList:y,pageInfo:f,setUserList:x,updatePagination:w,addUserToList:D,updateUserInList:N,removeUserFromList:E,removeUsersFromList:S}=l,h=async i=>{var e,t,c;n.value=!0;try{let p=i;!p&&((e=s==null?void 0:s.value)!=null&&e.getFormData)&&(p=s.value.getFormData()||{});const Y={...p?Object.fromEntries(Object.entries(p).filter(([,A])=>A!==""&&A!==null&&A!==void 0)):{},...ue((t=f.value)==null?void 0:t.pageIndex,(c=f.value)==null?void 0:c.pageSize)},_=await Ee(Y);if(_.oK){if(_.bizData){const A=JSON.parse(_.bizData),G=Array.isArray(A)?A:[];x(G)}if(_.pageQueryData){const A=JSON.parse(_.pageQueryData);w(A)}}else u.error(_.errMsg||"查询用户列表失败")}catch(p){console.error("加载用户列表失败:",p),u.error("加载用户列表失败")}finally{n.value=!1}};return{model:l,loadUsers:h,handleSearch:async i=>{await h(i)},handleReset:async()=>{l.resetPagination(),await h()},handlePageChange:async({currentPage:i,pageSize:e})=>{w({pageIndex:i,pageSize:e}),await h()},handleRefresh:async()=>{await h()},addUser:async i=>{n.value=!0;try{const e=await Me(i);if(e.oK&&e.state){if(u.success(e.popMsg||"新增用户成功"),e.bizData){const t=JSON.parse(e.bizData);D(t)}else await h();return!0}else return u.error(e.errMsg||e.popMsg||"新增用户失败"),!1}catch(e){return console.error("新增用户失败:",e),u.error("新增用户失败"),!1}finally{n.value=!1}},editUser:async i=>{n.value=!0;try{const e=await Oe(i);if(e.oK&&e.state){if(u.success(e.popMsg||"编辑用户成功"),e.bizData){const t=JSON.parse(e.bizData);N(t.userId,t.tenantId,t)}else N(i.userId,i.tenantId,i);return!0}else return u.error(e.errMsg||e.popMsg||"编辑用户失败"),!1}catch(e){return console.error("编辑用户失败:",e),u.error("编辑用户失败"),!1}finally{n.value=!1}},deleteUser:async i=>{if(!await r.warning({title:"确认删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除用户 "${i.realName||i.userName}" 吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{const t=await le(i.userId,i.tenantId);return t.oK&&t.state?(u.success(t.popMsg||"删除用户成功"),E(i.userId,i.tenantId),y.value.length===0&&f.value&&f.value.pageIndex>1&&(w({pageIndex:f.value.pageIndex-1}),await h()),!0):(u.error(t.errMsg||t.popMsg||"删除用户失败"),!1)}catch(t){return console.error("删除用户失败:",t),u.error("删除用户失败"),!1}finally{n.value=!1}},batchDeleteUsers:async i=>{if(!await r.warning({title:"确认批量删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除选中的 ${i.length} 个用户吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{let t=0,c=0;for(const p of i)try{const I=await le(p.userId,p.tenantId);I.oK&&I.state?t++:c++}catch{c++}return t>0?(u.success(`成功删除 ${t} 个用户${c>0?`，失败 ${c} 个`:""}`),S(i.slice(0,t)),await h(),!0):(u.error(`删除失败，共 ${c} 个`),!1)}catch(t){return console.error("批量删除用户失败:",t),u.error("批量删除用户失败"),!1}finally{n.value=!1}},resetPassword:async i=>{if(!await r.warning({title:"确认重置密码",subtitle:"新密码将通过邮件发送给用户",content:`确定要重置用户 "${i.realName||i.userName}" 的密码吗？`,icon:W,headerStyle:"gradient",positiveText:"确定重置",negativeText:"取消",width:500}))return!1;n.value=!0;try{return u.success("密码重置成功，新密码已发送至用户邮箱"),!0}catch(t){return console.error("重置密码失败:",t),u.error("重置密码失败"),!1}finally{n.value=!1}},viewUser:async i=>{try{const e=await Ce(i.userId,i.tenantId);return e.oK?JSON.parse(e.bizData):(u.error(e.errMsg||"获取用户详情失败"),null)}catch(e){return console.error("获取用户详情失败:",e),u.error("获取用户详情失败"),null}}}}function Ve(s,u){const r=H(),l=$e(u),n=g(!1),y=g("create"),f=g(null),x=()=>{y.value="create",f.value=null,n.value=!0},w=d=>{y.value="edit",f.value=d,n.value=!0},D=()=>{n.value=!1,f.value=null},N=d=>{y.value="view",f.value=d,n.value=!0},E=async d=>{await l.handleSearch(d)},S=async d=>{if(d&&y.value!=="view"){if(y.value==="create")await l.addUser(d)&&D();else if(y.value==="edit"){if(!f.value)return;const v={...f.value,...d};await l.editUser(v)&&D()}}},h=async(d,v)=>{switch(d){case"add":x();break;case"edit":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要编辑的用户");return}w(C);break}case"delete":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要删除的用户");return}await l.deleteUser(C);break}case"resetPassword":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要重置密码的用户");return}await l.resetPassword(C);break}case"search":{await l.handleSearch(v);break}}},U=g(!1),O=g(null),a=d=>{O.value=d,U.value=!0};return{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:f,openAddDialog:x,openEditDialog:w,openViewDialog:N,handleFormSubmit:S,roleAuthDialogVisible:U,currentAuthUser:O,openRoleAuthDialog:a,closeRoleAuthDialog:()=>{U.value=!1,O.value=null},handleToolbarClick:h,handleMenuClick:async({code:d,row:v})=>{if(v)switch(d){case"view":N(v);break;case"edit":w(v);break;case"delete":await l.deleteUser(v);break;case"resetPassword":await l.resetPassword(v);break;case"roleAuth":a(v);break}},handleSearch:E}}const Ge={class:"user-role-auth-content"},qe={class:"info-header"},We={class:"config-header"},He={class:"role-list-container"},Re=se({__name:"UserRoleAuthDialog",props:{visible:{type:Boolean,default:!1},userId:{default:""},user:{default:void 0}},emits:["update:visible","close","saved"],setup(s,{emit:u}){const r=s,l=u,n=H(),y=Q({get:()=>r.visible,set:e=>l("update:visible",e)}),f=g(!1),x=g(!1),w=g(""),D=g(r.user),N=g([]),E=g([]),S=g([]),h=g([]),U=g([]),O=Q(()=>{if(!w.value)return N.value;const e=w.value.toLowerCase();return a(N.value,e)});function a(e,t){const c=[];for(const p of e){const Y=(p.label||"").toLowerCase().includes(t);let _;p.children&&p.children.length>0&&(_=a(p.children,t)),(Y||_&&_.length>0)&&c.push({...p,children:_&&_.length>0?_:void 0})}return c}const K=()=>{},L=()=>{l("update:visible",!1),l("close")};function d(e){S.value=e,h.value=e}async function v(){if(r.userId){f.value=!0;try{const e=await Ke(r.userId);if(Z(e)){const t=me(e,[]);U.value=t,N.value=C(t);const c=R(t);S.value=c,h.value=[...c],E.value=j(t)}else n.error(ee(e)||"加载角色列表失败")}catch(e){n.error(e.message||"加载角色列表失败")}finally{f.value=!1}}}function C(e){return e.map(t=>({key:t.roleId,label:t.roleName,children:t.children&&t.children.length>0?C(t.children):void 0}))}function R(e){const t=[];function c(p){for(const I of p)I.checked===!0&&t.push(I.roleId),I.children&&I.children.length>0&&c(I.children)}return c(e),t}function j(e){const t=[];function c(p){for(const I of p)t.push(I.roleId),I.children&&I.children.length>0&&c(I.children)}return c(e),t}async function i(){if(!r.userId){n.error("用户ID不能为空");return}if(h.value.length===0){n.warning("请至少选择一个角色");return}x.value=!0;try{const e=h.value.join(","),t=await Ae({userId:r.userId,roleIds:e});Z(t)?(n.success("保存成功"),l("saved"),await v(),l("update:visible",!1)):n.error(ee(t)||"保存失败")}catch(e){n.error(e.message||"保存失败")}finally{x.value=!1}}return X(()=>r.visible,e=>{e&&r.userId?(D.value=r.user,v()):e||(N.value=[],S.value=[],h.value=[],E.value=[],w.value="",U.value=[])},{immediate:!0}),X(()=>r.userId,e=>{e&&r.visible&&v()}),fe(()=>{r.visible&&r.userId&&v()}),(e,t)=>{const c=ye,p=be,I=ge,Y=he,_=ve,A=Ie,G=we,oe=ke;return V(),q(o(Ne),{visible:y.value,"onUpdate:visible":t[1]||(t[1]=k=>y.value=k),title:"用户角色授权",preset:"dialog",width:"800px","mask-closable":!1,closable:!0,"show-footer":!0,"show-cancel":!0,"show-confirm":!0,"cancel-text":"取消","confirm-text":"保存","confirm-loading":x.value,onClose:L,onCancel:L,onConfirm:i},{default:b(()=>[m(oe,{show:f.value},{default:b(()=>[P("div",Ge,[m(_,{size:"small",class:"user-info"},{header:b(()=>[P("div",qe,[m(c,{size:"18",color:"#18a058"},{default:b(()=>[m(o(Fe))]),_:1}),t[2]||(t[2]=P("span",null,"用户信息",-1))])]),default:b(()=>[m(Y,{column:2,size:"small"},{default:b(()=>[m(p,{label:"用户ID"},{default:b(()=>{var k;return[B($((k=D.value)==null?void 0:k.userId),1)]}),_:1}),m(p,{label:"用户名"},{default:b(()=>{var k;return[B($((k=D.value)==null?void 0:k.userName),1)]}),_:1}),m(p,{label:"真实姓名"},{default:b(()=>{var k;return[B($((k=D.value)==null?void 0:k.realName),1)]}),_:1}),m(p,{label:"状态"},{default:b(()=>{var k;return[m(I,{type:((k=D.value)==null?void 0:k.statusFlag)==="Y"?"success":"error",size:"small"},{default:b(()=>{var J;return[B($(((J=D.value)==null?void 0:J.statusFlag)==="Y"?"启用":"禁用"),1)]}),_:1},8,["type"])]}),_:1})]),_:1})]),_:1}),m(_,{size:"small",class:"role-selection"},{header:b(()=>[P("div",We,[m(c,{size:"18",color:"#f0a020"},{default:b(()=>[m(o(Pe))]),_:1}),t[3]||(t[3]=P("span",null,"角色选择",-1))])]),default:b(()=>[m(G,{vertical:"",size:16},{default:b(()=>[m(A,{value:w.value,"onUpdate:value":t[0]||(t[0]=k=>w.value=k),placeholder:"搜索角色名称或描述",clearable:"",onInput:K},{prefix:b(()=>[m(c,null,{default:b(()=>[m(o(_e))]),_:1})]),_:1},8,["value"]),P("div",He,[!f.value&&O.value.length>0?(V(),q(o(Se),{key:0,data:O.value,checkable:!0,cascade:!1,"check-strategy":"all","show-line":!0,"default-expanded-keys":E.value,"checked-keys":S.value,"virtual-scroll":!0,"onUpdate:checkedKeys":d},null,8,["data","default-expanded-keys","checked-keys"])):!f.value&&O.value.length===0?(V(),q(o(Ue),{key:1,description:"暂无角色数据"})):De("",!0)])]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1},8,["visible","confirm-loading"])}}}),je=re(Re,[["__scopeId","data-v-4ba042b7"]]),Je=["id"],Qe=se({name:"UserManagement",__name:"UserManagement",setup(s){const u=g(),r=g(),{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:f,roleAuthDialogVisible:x,currentAuthUser:w,handleFormSubmit:D,handleToolbarClick:N,handleMenuClick:E,handleSearch:S}=Ve(r,u);return(h,U)=>{var O;return V(),xe("div",{class:"user-management",id:o(l).model.moduleId},[m(o(pe),{direction:"vertical","default-size":"80px"},{1:b(()=>[m(de,ae({ref_key:"searchFormRef",ref:u,"module-id":o(l).model.moduleId},o(l).model.searchFormConfig,{onSearch:o(S),onToolbarClick:o(N)}),null,16,["module-id","onSearch","onToolbarClick"])]),2:b(()=>[m(o(ce),ae({ref_key:"gridRef",ref:r,"module-id":o(l).model.moduleId,data:o(l).model.userList,loading:o(l).model.loading},o(l).model.gridConfig,{onPageChange:o(l).handlePageChange,onMenuClick:o(E)}),null,16,["module-id","data","loading","onPageChange","onMenuClick"])]),_:1}),m(ie,{visible:o(n),"onUpdate:visible":U[0]||(U[0]=a=>te(n)?n.value=a:null),mode:o(y),title:o(y)==="create"?"新增用户":o(y)==="edit"?"编辑用户":"查看用户详情",to:`#${o(l).model.moduleId}`,"form-fields":o(l).model.formFields,"form-tabs":o(l).model.formTabs,"initial-data":o(f)||void 0,"auto-close-on-confirm":!1,"confirm-loading":o(l).model.loading.value,onSubmit:o(D)},null,8,["visible","mode","title","to","form-fields","form-tabs","initial-data","confirm-loading","onSubmit"]),m(je,{visible:o(x),"onUpdate:visible":U[1]||(U[1]=a=>te(x)?x.value=a:null),"user-id":((O=o(w))==null?void 0:O.userId)||"",user:o(w)||void 0,onSaved:o(S)},null,8,["visible","user-id","user","onSaved"])],8,Je)}}}),St=re(Qe,[["__scopeId","data-v-f5d7f0b6"]]);export{St as default};
