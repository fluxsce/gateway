import{d as V,a9 as a,ax as w,be as re,a4 as le,bh as ie,aA as G,aB as x,bR as oe,aD as Q,g as R,aE as Y,aJ as se,E as M,aX as N,ay as ue,az as q,bb as ce,H as A,b2 as W,aN as O,bo as J,by as X,au as de,r as pe,aT as $,bs as me,bS as he,b0 as fe,aV as ve,bT as F,bU as z,a$ as ge,bt as E,bV as ye,c as Z,o as ee,a as j}from"./index-BWGkTP3E.js";import{R as be}from"./Switch-DV7n8EG8.js";import{A as we}from"./DataTable-Wmy4yEx3.js";const Ve=V({name:"ArrowUp",render(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a("g",{fill:"none"},a("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}}),Ce=w("collapse-transition",{width:"100%"},[re()]),Pe=Object.assign(Object.assign({},x.props),{show:{type:Boolean,default:!0},appear:Boolean,collapsed:{type:Boolean,default:void 0}}),De=V({name:"CollapseTransition",props:Pe,inheritAttrs:!1,setup(e){const{mergedClsPrefixRef:c,inlineThemeDisabled:s,mergedRtlRef:l}=G(e),o=x("CollapseTransition","-collapse-transition",Ce,oe,e,c),h=Q("CollapseTransition",l,c),d=R(()=>e.collapsed!==void 0?e.collapsed:e.show),f=R(()=>{const{self:{bezier:m}}=o.value;return{"--n-bezier":m}}),v=s?Y("collapse-transition",void 0,f,e):void 0;return{rtlEnabled:h,mergedShow:d,mergedClsPrefix:c,cssVars:s?void 0:f,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){return a(ie,{appear:this.appear},{default:()=>{var e;if(this.mergedShow)return(e=this.onRender)===null||e===void 0||e.call(this),a("div",le({class:[`${this.mergedClsPrefix}-collapse-transition`,this.rtlEnabled&&`${this.mergedClsPrefix}-collapse-transition--rtl`,this.themeClass],style:this.cssVars},this.$attrs),this.$slots)}})}}),K=se("n-dynamic-input"),ke=V({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:e,placeholderRef:c}=N(K);return{mergedTheme:e,placeholder:c}},render(){const{mergedTheme:e,placeholder:c,value:s,clsPrefix:l,onUpdateValue:o,disabled:h}=this;return a("div",{class:`${l}-dynamic-input-preset-input`},a(M,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:s,placeholder:c,onUpdateValue:o,disabled:h}))}}),Re=V({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},disabled:Boolean,parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(e){const{mergedThemeRef:c,keyPlaceholderRef:s,valuePlaceholderRef:l}=N(K);return{mergedTheme:c,keyPlaceholder:s,valuePlaceholder:l,handleKeyInput(o){e.onUpdateValue({key:o,value:e.value.value})},handleValueInput(o){e.onUpdateValue({key:e.value.key,value:o})}}},render(){const{mergedTheme:e,keyPlaceholder:c,valuePlaceholder:s,value:l,clsPrefix:o,disabled:h}=this;return a("div",{class:`${o}-dynamic-input-preset-pair`},a(M,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:l.key,class:`${o}-dynamic-input-pair-input`,placeholder:c,onUpdateValue:this.handleKeyInput,disabled:h}),a(M,{theme:e.peers.Input,"theme-overrides":e.peerOverrides.Input,value:l.value,class:`${o}-dynamic-input-pair-input`,placeholder:s,onUpdateValue:this.handleValueInput,disabled:h}))}}),Ie=w("dynamic-input",{width:"100%"},[w("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[w("dynamic-input-preset-input",{flex:1,alignItems:"center"}),w("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[w("dynamic-input-pair-input",[q("&:first-child",{"margin-right":"12px"})])]),ue("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[ce("icon",{cursor:"pointer"})]),q("&:last-child",{marginBottom:0})]),w("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[w("form-item-blank",{paddingTop:"0 !important"})])]),U=new WeakMap,Se=Object.assign(Object.assign({},x.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemClass:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},disabled:Boolean,showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),$e=V({name:"DynamicInput",props:Se,setup(e,{slots:c}){const{mergedComponentPropsRef:s,mergedClsPrefixRef:l,mergedRtlRef:o,inlineThemeDisabled:h}=G(),d=N(ye,null),f=pe(e.defaultValue),v=$(e,"value"),m=me(v,f),C=x("DynamicInput","-dynamic-input",Ie,he,e,l),p=R(()=>{const{value:t}=m;if(Array.isArray(t)){const{max:n}=e;return n!==void 0&&t.length>=n}return!1}),T=R(()=>{const{value:t}=m;return Array.isArray(t)?t.length<=e.min:!0}),_=R(()=>{var t,n;return(n=(t=s==null?void 0:s.value)===null||t===void 0?void 0:t.DynamicInput)===null||n===void 0?void 0:n.buttonSize});function g(t){const{onInput:n,"onUpdate:value":i,onUpdateValue:r}=e;n&&E(n,t),i&&E(i,t),r&&E(r,t),f.value=t}function D(t,n){if(t==null||typeof t!="object")return n;const i=F(t)?z(t):t;let r=U.get(i);return r===void 0&&U.set(i,r=ge()),r}function I(t,n){const{value:i}=m,r=Array.from(i??[]),b=r[t];if(r[t]=n,b&&n&&typeof b=="object"&&typeof n=="object"){const ne=F(b)?z(b):b,ae=F(n)?z(n):n,H=U.get(ne);H!==void 0&&U.set(ae,H)}g(r)}function S(){y(-1)}function y(t){const{value:n}=m,{onCreate:i}=e,r=Array.from(n??[]);if(i)r.splice(t+1,0,i(t+1)),g(r);else if(c.default)r.splice(t+1,0,null),g(r);else switch(e.preset){case"input":r.splice(t+1,0,""),g(r);break;case"pair":r.splice(t+1,0,{key:"",value:""}),g(r);break}}function P(t){const{value:n}=m;if(!Array.isArray(n))return;const{min:i}=e;if(n.length<=i)return;const{onRemove:r}=e;r&&r(t);const b=Array.from(n);b.splice(t,1),g(b)}function u(t,n,i){if(n<0||i<0||n>=t.length||i>=t.length||n===i)return;const r=t[n];t[n]=t[i],t[i]=r}function B(t,n){const{value:i}=m;if(!Array.isArray(i))return;const r=Array.from(i);t==="up"&&u(r,n,n-1),t==="down"&&u(r,n,n+1),g(r)}fe(K,{mergedThemeRef:C,keyPlaceholderRef:$(e,"keyPlaceholder"),valuePlaceholderRef:$(e,"valuePlaceholder"),placeholderRef:$(e,"placeholder")});const te=Q("DynamicInput",o,l),L=R(()=>{const{self:{actionMargin:t,actionMarginRtl:n}}=C.value;return{"--action-margin":t,"--action-margin-rtl":n}}),k=h?Y("dynamic-input",void 0,L,e):void 0;return{locale:ve("DynamicInput").localeRef,rtlEnabled:te,buttonSize:_,mergedClsPrefix:l,NFormItem:d,uncontrolledValue:f,mergedValue:m,insertionDisabled:p,removeDisabled:T,handleCreateClick:S,ensureKey:D,handleValueChange:I,remove:P,move:B,createItem:y,mergedTheme:C,cssVars:h?void 0:L,themeClass:k==null?void 0:k.themeClass,onRender:k==null?void 0:k.onRender}},render(){const{$slots:e,itemClass:c,buttonSize:s,mergedClsPrefix:l,mergedValue:o,locale:h,mergedTheme:d,keyField:f,itemStyle:v,preset:m,showSortButton:C,NFormItem:p,ensureKey:T,handleValueChange:_,remove:g,createItem:D,move:I,onRender:S,disabled:y}=this;return S==null||S(),a("div",{class:[`${l}-dynamic-input`,this.rtlEnabled&&`${l}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?a(A,Object.assign({block:!0,ghost:!0,dashed:!0,size:s},this.createButtonProps,{disabled:this.insertionDisabled||y,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>W(e["create-button-default"],()=>[h.create]),icon:()=>W(e["create-button-icon"],()=>[a(O,{clsPrefix:l},{default:()=>a(J,null)})])}):o.map((P,u)=>a("div",{key:f?P[f]:T(P,u),"data-key":f?P[f]:T(P,u),class:[`${l}-dynamic-input-item`,c],style:v},X(e.default,{value:o[u],index:u},()=>[m==="input"?a(ke,{disabled:y,clsPrefix:l,value:o[u],parentPath:p?p.path.value:void 0,path:p!=null&&p.path.value?`${p.path.value}[${u}]`:void 0,onUpdateValue:B=>{_(u,B)}}):m==="pair"?a(Re,{disabled:y,clsPrefix:l,value:o[u],parentPath:p?p.path.value:void 0,path:p!=null&&p.path.value?`${p.path.value}[${u}]`:void 0,onUpdateValue:B=>{_(u,B)}}):null]),X(e.action,{value:o[u],index:u,create:D,remove:g,move:I},()=>[a("div",{class:`${l}-dynamic-input-item__action`},a(de,{size:s},{default:()=>[a(A,{disabled:this.removeDisabled||y,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,circle:!0,onClick:()=>{g(u)}},{icon:()=>a(O,{clsPrefix:l},{default:()=>a(be,null)})}),a(A,{disabled:this.insertionDisabled||y,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>{D(u)}},{icon:()=>a(O,{clsPrefix:l},{default:()=>a(J,null)})}),C?a(A,{disabled:u===0||y,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>{I("up",u)}},{icon:()=>a(O,{clsPrefix:l},{default:()=>a(Ve,null)})}):null,C?a(A,{disabled:u===o.length-1||y,circle:!0,theme:d.peers.Button,themeOverrides:d.peerOverrides.Button,onClick:()=>{I("down",u)}},{icon:()=>a(O,{clsPrefix:l},{default:()=>a(we,null)})}):null]}))]))))}}),Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ue=V({name:"CloseOutline",render:function(c,s){return ee(),Z("svg",Be,s[0]||(s[0]=[j("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 368L144 144"},null,-1),j("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 144L144 368"},null,-1)]))}}),Ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},je=V({name:"StopCircleOutline",render:function(c,s){return ee(),Z("svg",Ae,s[0]||(s[0]=[j("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),j("path",{d:"M310.4 336H201.6a25.62 25.62 0 0 1-25.6-25.6V201.6a25.62 25.62 0 0 1 25.6-25.6h108.8a25.62 25.62 0 0 1 25.6 25.6v108.8a25.62 25.62 0 0 1-25.6 25.6z",fill:"currentColor"},null,-1)]))}});export{Ue as C,je as S,$e as _,De as a};
