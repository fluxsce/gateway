import{G as ne}from"./GDataFormModal-gmXxtq1x.js";import{c as ie,G as ce,S as ue}from"./SearchForm-C8LTWaYg.js";import{G as de}from"./GPane-D8xjug3o.js";import{r as g,aa as z,m as H,d as se,a7 as Q,q as fe,g as G,w as b,j as X,e as o,z as Z,A as pe,B as ee,o as $,b as m,f as T,a9 as me,bW as ve,bX as he,K as B,t as V,aO as be,i as ge,bV as ye,G as we,cq as Ie,h as De,ab as Ue,I as _e,_ as re,c as ke,cr as te,am as ae}from"./index-ESHYz3i9.js";import{G as Ne}from"./GModal-LRdvAYBQ.js";import{G as Se}from"./GTree-Deto2B5F.js";import{g as xe,d as le,e as Ce,a as Me,q as Oe,b as Ee,f as Ke}from"./index-Cc0u8y8m.js";import{L as Ae,P as Le}from"./PersonOutline-3IV4uKJZ.js";import{P as Fe}from"./PeopleCircleOutline-DKEdr314.js";import"./GPagination.vue_vue_type_style_index_0_scoped_2c35df38_lang-C1Vti-fj.js";import{u as Te}from"./useGDialog-B-gHIdxi.js";import{A as Pe}from"./AddOutline-I2AMvI0I.js";import{C as Ye}from"./CreateOutline--XfT6bD4.js";import{T as ze}from"./TrashOutline-BfDLtdZv.js";import{W}from"./WarningOutline-sOXT_Ym-.js";import"./index-D1t35l7m.js";import"./Select-BnP-dm7-.js";import"./DownloadOutline-BED41JVn.js";import"./Upload-DBIwIbVZ.js";import"./download-C2161hUv.js";import"./DocumentOutline-CzFXHj6K.js";import"./RefreshOutline-DOzShYFT.js";import"./ContractOutline-B9EpDXpK.js";import"./CloseOutline-CgDR_1U8.js";import"./CopyOutline-sQiB4ajy.js";import"./Checkbox-C9Worf_Q.js";import"./GDialog-CJLCnuOH.js";var F=(s=>(s.ENABLED="Y",s.DISABLED="N",s))(F||{}),P=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.MALE=1]="MALE",s[s.FEMALE=2]="FEMALE",s))(P||{}),O=(s=>(s.YES="Y",s.NO="N",s))(O||{});function Be(){const s="hub0002",c=g(!1),r=g([]),l=g(),n={fields:[{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:6,clearable:!0},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:6,clearable:!0},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:6,clearable:!0,options:[{label:"全部",value:""},{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]}],moreFields:[{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:6,clearable:!0},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:6,clearable:!0}],toolbarButtons:[{key:"add",label:"新增",icon:Pe,type:"primary",tooltip:"新增用户"},{key:"edit",label:"编辑",icon:Ye,tooltip:"编辑选中的用户"},{key:"delete",label:"删除",icon:ze,type:"error",tooltip:"删除选中的用户"},{key:"resetPassword",label:"重置密码",icon:Ae,tooltip:"重置选中用户的密码"}],showSearchButton:!0,showResetButton:!0},y=[{key:"basic",label:"主信息"},{key:"custom",label:"自定义"},{key:"other",label:"其他"}],p=[{field:"userId",label:"用户ID",type:"input",placeholder:"请输入用户ID",span:8,tabKey:"basic",required:!0,primary:!0},{field:"userName",label:"用户名",type:"input",placeholder:"请输入用户名",span:8,tabKey:"basic",required:!0},{field:"password",label:"密码",type:"input",placeholder:"请输入密码",span:8,tabKey:"basic",show:a=>!a.userId,required:!0,props:{type:"password",showPasswordOn:"click"}},{field:"realName",label:"姓名",type:"input",placeholder:"请输入姓名",span:8,tabKey:"basic",required:!0},{field:"deptId",label:"部门ID",type:"input",placeholder:"请输入部门ID",span:8,tabKey:"basic"},{field:"email",label:"邮箱",type:"input",placeholder:"请输入邮箱",span:8,tabKey:"basic"},{field:"mobile",label:"手机号",type:"input",placeholder:"请输入手机号",span:8,tabKey:"basic"},{field:"avatar",label:"头像地址",type:"input",placeholder:"请输入头像URL",span:8,tabKey:"custom",show:!1},{field:"gender",label:"性别",type:"select",placeholder:"请选择性别",span:8,tabKey:"basic",options:[{label:"未知",value:P.UNKNOWN},{label:"男",value:P.MALE},{label:"女",value:P.FEMALE}]},{field:"roles",label:"角色",type:"custom",span:8,tabKey:"custom",show:!1},{field:"statusFlag",label:"状态",type:"select",placeholder:"请选择状态",span:8,tabKey:"basic",defaultValue:F.ENABLED,options:[{label:"启用",value:F.ENABLED},{label:"禁用",value:F.DISABLED}]},{field:"deptAdminFlag",label:"部门管理员",type:"switch",span:8,tabKey:"basic",defaultValue:O.NO,props:{checkedValue:O.YES,uncheckedValue:O.NO}},{field:"tenantAdminFlag",label:"租户管理员",type:"switch",span:8,tabKey:"basic",defaultValue:O.NO,props:{checkedValue:O.YES,uncheckedValue:O.NO}},{field:"userExpireDate",label:"用户过期时间",type:"datetime",placeholder:"请选择过期时间",span:8,tabKey:"basic",required:!0,rules:[{required:!0,message:"请选择用户过期时间",trigger:["blur","change"]}]},{field:"lastLoginTime",label:"最后登录时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"lastLoginIp",label:"最后登录IP",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"addTime",label:"创建时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"addWho",label:"创建人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"editTime",label:"修改时间",type:"datetime",span:8,disabled:!0,tabKey:"other"},{field:"editWho",label:"修改人",type:"input",span:8,disabled:!0,tabKey:"other"},{field:"oprSeqFlag",label:"操作序列标识",type:"input",span:8,tabKey:"other",disabled:!0},{field:"currentVersion",label:"当前版本号",type:"number",span:8,disabled:!0,tabKey:"other"},{field:"activeFlag",label:"活动标记",type:"select",span:8,tabKey:"basic",defaultValue:O.YES,options:[{label:"活动",value:O.YES},{label:"非活动",value:O.NO}]},{field:"noteText",label:"备注",type:"textarea",placeholder:"请输入备注信息",span:24,tabKey:"custom"}],N={columns:[{field:"userId",title:"用户ID",showOverflow:!0},{field:"userName",title:"用户名",sortable:!0,showOverflow:!0},{field:"realName",title:"姓名",sortable:!0,showOverflow:!0},{field:"deptId",title:"部门ID",showOverflow:!0},{field:"email",title:"邮箱",showOverflow:!0},{field:"mobile",title:"手机号",showOverflow:!0},{field:"gender",title:"性别",align:"center",formatter:({cellValue:a})=>{switch(a){case P.MALE:return"男";case P.FEMALE:return"女";default:return"未知"}}},{field:"statusFlag",title:"状态",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.statusFlag===F.ENABLED?"success":"danger",content:a.statusFlag===F.ENABLED?"启用":"禁用"})}},{field:"deptAdminFlag",title:"部门管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"tenantAdminFlag",title:"租户管理员",align:"center",formatter:({cellValue:a})=>a==="Y"?"是":"否"},{field:"userExpireDate",title:"用户过期时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginTime",title:"最后登录时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"lastLoginIp",title:"最后登录IP",showOverflow:!0},{field:"addTime",title:"创建时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"addWho",title:"创建人",showOverflow:!0},{field:"editTime",title:"修改时间",sortable:!0,showOverflow:!0,formatter:({cellValue:a})=>a?z(a,"YYYY-MM-DD HH:mm:ss"):""},{field:"editWho",title:"修改人",showOverflow:!0},{field:"oprSeqFlag",title:"操作序列标识",showOverflow:!0},{field:"currentVersion",title:"当前版本号",align:"center",showOverflow:!0},{field:"activeFlag",title:"活动标记",align:"center",cellRender:{name:"VxeTag",props:({row:a})=>({type:a.activeFlag===O.YES?"success":"default",content:a.activeFlag===O.YES?"活动":"非活动"})}},{field:"noteText",title:"备注",showOverflow:"tooltip"}],showCheckbox:!0,paginationConfig:{show:!0,pageInfo:l,align:"right"},menuConfig:{enabled:!0,showCopyRow:!0,showCopyCell:!0,customMenus:[{code:"view",name:"查看详情",prefixIcon:"vxe-icon-eye-fill"},{code:"edit",name:"编辑",prefixIcon:"vxe-icon-edit"},{code:"delete",name:"删除",prefixIcon:"vxe-icon-delete"},{code:"resetPassword",name:"重置密码",prefixIcon:"vxe-icon-lock"},{code:"roleAuth",name:"用户授权",prefixIcon:"vxe-icon-user"}]},height:"100%"},w=()=>{l.value=void 0},U=a=>{l.value?Object.assign(l.value,a):l.value=a},S=a=>{r.value=a},E=()=>{r.value=[]},x=a=>{r.value.unshift(a)},h=(a,K,L)=>{const d=r.value.findIndex(v=>v.userId===a&&v.tenantId===K);d!==-1&&Object.assign(r.value[d],L)},_=(a,K)=>{const L=r.value.findIndex(d=>d.userId===a&&d.tenantId===K);L!==-1&&r.value.splice(L,1)};return{moduleId:s,loading:c,userList:r,pageInfo:l,searchFormConfig:n,formTabs:y,formFields:p,gridConfig:N,resetPagination:w,updatePagination:U,setUserList:S,clearUserList:E,addUserToList:x,updateUserInList:h,removeUserFromList:_,removeUsersFromList:a=>{a.forEach(K=>{_(K.userId,K.tenantId)})}}}function Ve(s){const c=H(),r=Te(),l=Be(),{loading:n,userList:y,pageInfo:p,setUserList:N,updatePagination:w,addUserToList:U,updateUserInList:S,removeUserFromList:E,removeUsersFromList:x}=l,h=async i=>{var e,t,u;n.value=!0;try{let f=i;!f&&((e=s==null?void 0:s.value)!=null&&e.getFormData)&&(f=s.value.getFormData()||{});const Y={...f?Object.fromEntries(Object.entries(f).filter(([,A])=>A!==""&&A!==null&&A!==void 0)):{},...ie((t=p.value)==null?void 0:t.pageIndex,(u=p.value)==null?void 0:u.pageSize)},D=await Oe(Y);if(D.oK){if(D.bizData){const A=JSON.parse(D.bizData),q=Array.isArray(A)?A:[];N(q)}if(D.pageQueryData){const A=JSON.parse(D.pageQueryData);w(A)}}else c.error(D.errMsg||"查询用户列表失败")}catch(f){console.error("加载用户列表失败:",f),c.error("加载用户列表失败")}finally{n.value=!1}};return{model:l,loadUsers:h,handleSearch:async i=>{await h(i)},handleReset:async()=>{l.resetPagination(),await h()},handlePageChange:async({currentPage:i,pageSize:e})=>{w({pageIndex:i,pageSize:e}),await h()},handleRefresh:async()=>{await h()},addUser:async i=>{n.value=!0;try{const e=await Me(i);if(e.oK&&e.state){if(c.success(e.popMsg||"新增用户成功"),e.bizData){const t=JSON.parse(e.bizData);U(t)}else await h();return!0}else return c.error(e.errMsg||e.popMsg||"新增用户失败"),!1}catch(e){return console.error("新增用户失败:",e),c.error("新增用户失败"),!1}finally{n.value=!1}},editUser:async i=>{n.value=!0;try{const e=await Ce(i);if(e.oK&&e.state){if(c.success(e.popMsg||"编辑用户成功"),e.bizData){const t=JSON.parse(e.bizData);S(t.userId,t.tenantId,t)}else S(i.userId,i.tenantId,i);return!0}else return c.error(e.errMsg||e.popMsg||"编辑用户失败"),!1}catch(e){return console.error("编辑用户失败:",e),c.error("编辑用户失败"),!1}finally{n.value=!1}},deleteUser:async i=>{if(!await r.warning({title:"确认删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除用户 "${i.realName||i.userName}" 吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{const t=await le(i.userId,i.tenantId);return t.oK&&t.state?(c.success(t.popMsg||"删除用户成功"),E(i.userId,i.tenantId),y.value.length===0&&p.value&&p.value.pageIndex>1&&(w({pageIndex:p.value.pageIndex-1}),await h()),!0):(c.error(t.errMsg||t.popMsg||"删除用户失败"),!1)}catch(t){return console.error("删除用户失败:",t),c.error("删除用户失败"),!1}finally{n.value=!1}},batchDeleteUsers:async i=>{if(!await r.warning({title:"确认批量删除",subtitle:"此操作不可恢复，请谨慎操作",content:`确定要删除选中的 ${i.length} 个用户吗？`,icon:W,headerStyle:"gradient",positiveText:"确定删除",negativeText:"取消",width:500}))return!1;n.value=!0;try{let t=0,u=0;for(const f of i)try{const I=await le(f.userId,f.tenantId);I.oK&&I.state?t++:u++}catch{u++}return t>0?(c.success(`成功删除 ${t} 个用户${u>0?`，失败 ${u} 个`:""}`),x(i.slice(0,t)),await h(),!0):(c.error(`删除失败，共 ${u} 个`),!1)}catch(t){return console.error("批量删除用户失败:",t),c.error("批量删除用户失败"),!1}finally{n.value=!1}},resetPassword:async i=>{if(!await r.warning({title:"确认重置密码",subtitle:"新密码将通过邮件发送给用户",content:`确定要重置用户 "${i.realName||i.userName}" 的密码吗？`,icon:W,headerStyle:"gradient",positiveText:"确定重置",negativeText:"取消",width:500}))return!1;n.value=!0;try{return c.success("密码重置成功，新密码已发送至用户邮箱"),!0}catch(t){return console.error("重置密码失败:",t),c.error("重置密码失败"),!1}finally{n.value=!1}},viewUser:async i=>{try{const e=await xe(i.userId,i.tenantId);return e.oK?JSON.parse(e.bizData):(c.error(e.errMsg||"获取用户详情失败"),null)}catch(e){return console.error("获取用户详情失败:",e),c.error("获取用户详情失败"),null}}}}function $e(s,c){const r=H(),l=Ve(c),n=g(!1),y=g("create"),p=g(null),N=()=>{y.value="create",p.value=null,n.value=!0},w=d=>{y.value="edit",p.value=d,n.value=!0},U=()=>{n.value=!1,p.value=null},S=d=>{y.value="view",p.value=d,n.value=!0},E=async d=>{await l.handleSearch(d)},x=async d=>{if(d&&y.value!=="view"){if(y.value==="create")await l.addUser(d)&&U();else if(y.value==="edit"){if(!p.value)return;const v={...p.value,...d};await l.editUser(v)&&U()}}},h=async(d,v)=>{switch(d){case"add":N();break;case"edit":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要编辑的用户");return}w(C);break}case"delete":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要删除的用户");return}await l.deleteUser(C);break}case"resetPassword":{if(!(s!=null&&s.value)){r.warning("Grid 引用未设置");return}const C=s.value.getCurrentRecord();if(!C){r.warning("请先点击选择要重置密码的用户");return}await l.resetPassword(C);break}case"search":{await l.handleSearch(v);break}}},_=g(!1),M=g(null),a=d=>{M.value=d,_.value=!0};return{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:p,openAddDialog:N,openEditDialog:w,openViewDialog:S,handleFormSubmit:x,roleAuthDialogVisible:_,currentAuthUser:M,openRoleAuthDialog:a,closeRoleAuthDialog:()=>{_.value=!1,M.value=null},handleToolbarClick:h,handleMenuClick:async({code:d,row:v})=>{if(v)switch(d){case"view":S(v);break;case"edit":w(v);break;case"delete":await l.deleteUser(v);break;case"resetPassword":await l.resetPassword(v);break;case"roleAuth":a(v);break}},handleSearch:E}}const qe={class:"user-role-auth-content"},Ge={class:"info-header"},We={class:"config-header"},He={class:"role-list-container"},Re=se({__name:"UserRoleAuthDialog",props:{visible:{type:Boolean,default:!1},userId:{default:""},user:{default:void 0}},emits:["update:visible","close","saved"],setup(s,{emit:c}){const r=s,l=c,n=H(),y=X({get:()=>r.visible,set:e=>l("update:visible",e)}),p=g(!1),N=g(!1),w=g(""),U=g(r.user),S=g([]),E=g([]),x=g([]),h=g([]),_=g([]),M=X(()=>{if(!w.value)return S.value;const e=w.value.toLowerCase();return a(S.value,e)});function a(e,t){const u=[];for(const f of e){const Y=(f.label||"").toLowerCase().includes(t);let D;f.children&&f.children.length>0&&(D=a(f.children,t)),(Y||D&&D.length>0)&&u.push({...f,children:D&&D.length>0?D:void 0})}return u}const K=()=>{},L=()=>{l("update:visible",!1),l("close")};function d(e){x.value=e,h.value=e}async function v(){if(r.userId){p.value=!0;try{const e=await Ee(r.userId);if(Z(e)){const t=pe(e,[]);_.value=t,S.value=C(t);const u=R(t);x.value=u,h.value=[...u],E.value=j(t)}else n.error(ee(e)||"加载角色列表失败")}catch(e){n.error(e.message||"加载角色列表失败")}finally{p.value=!1}}}function C(e){return e.map(t=>({key:t.roleId,label:t.roleName,children:t.children&&t.children.length>0?C(t.children):void 0}))}function R(e){const t=[];function u(f){for(const I of f)I.checked===!0&&t.push(I.roleId),I.children&&I.children.length>0&&u(I.children)}return u(e),t}function j(e){const t=[];function u(f){for(const I of f)t.push(I.roleId),I.children&&I.children.length>0&&u(I.children)}return u(e),t}async function i(){if(!r.userId){n.error("用户ID不能为空");return}if(h.value.length===0){n.warning("请至少选择一个角色");return}N.value=!0;try{const e=h.value.join(","),t=await Ke({userId:r.userId,roleIds:e});Z(t)?(n.success("保存成功"),l("saved"),await v(),l("update:visible",!1)):n.error(ee(t)||"保存失败")}catch(e){n.error(e.message||"保存失败")}finally{N.value=!1}}return Q(()=>r.visible,e=>{e&&r.userId?(U.value=r.user,v()):e||(S.value=[],x.value=[],h.value=[],E.value=[],w.value="",_.value=[])},{immediate:!0}),Q(()=>r.userId,e=>{e&&r.visible&&v()}),fe(()=>{r.visible&&r.userId&&v()}),(e,t)=>{const u=ge,f=he,I=be,Y=ve,D=me,A=we,q=ye,oe=_e;return $(),G(o(Ne),{visible:y.value,"onUpdate:visible":t[1]||(t[1]=k=>y.value=k),title:"用户角色授权",preset:"dialog",width:"800px","mask-closable":!1,closable:!0,"show-footer":!0,"show-cancel":!0,"show-confirm":!0,"cancel-text":"取消","confirm-text":"保存","confirm-loading":N.value,onClose:L,onCancel:L,onConfirm:i},{default:b(()=>[m(oe,{show:p.value},{default:b(()=>[T("div",qe,[m(D,{size:"small",class:"user-info"},{header:b(()=>[T("div",Ge,[m(u,{size:"18",color:"#18a058"},{default:b(()=>[m(o(Le))]),_:1}),t[2]||(t[2]=T("span",null,"用户信息",-1))])]),default:b(()=>[m(Y,{column:2,size:"small"},{default:b(()=>[m(f,{label:"用户ID"},{default:b(()=>{var k;return[B(V((k=U.value)==null?void 0:k.userId),1)]}),_:1}),m(f,{label:"用户名"},{default:b(()=>{var k;return[B(V((k=U.value)==null?void 0:k.userName),1)]}),_:1}),m(f,{label:"真实姓名"},{default:b(()=>{var k;return[B(V((k=U.value)==null?void 0:k.realName),1)]}),_:1}),m(f,{label:"状态"},{default:b(()=>{var k;return[m(I,{type:((k=U.value)==null?void 0:k.statusFlag)==="Y"?"success":"error",size:"small"},{default:b(()=>{var J;return[B(V(((J=U.value)==null?void 0:J.statusFlag)==="Y"?"启用":"禁用"),1)]}),_:1},8,["type"])]}),_:1})]),_:1})]),_:1}),m(D,{size:"small",class:"role-selection"},{header:b(()=>[T("div",We,[m(u,{size:"18",color:"#f0a020"},{default:b(()=>[m(o(Fe))]),_:1}),t[3]||(t[3]=T("span",null,"角色选择",-1))])]),default:b(()=>[m(q,{vertical:"",size:16},{default:b(()=>[m(A,{value:w.value,"onUpdate:value":t[0]||(t[0]=k=>w.value=k),placeholder:"搜索角色名称或描述",clearable:"",onInput:K},{prefix:b(()=>[m(u,null,{default:b(()=>[m(o(Ie))]),_:1})]),_:1},8,["value"]),T("div",He,[!p.value&&M.value.length>0?($(),G(o(Se),{key:0,data:M.value,checkable:!0,cascade:!1,"check-strategy":"all","show-line":!0,"default-expanded-keys":E.value,"checked-keys":x.value,"virtual-scroll":!0,"onUpdate:checkedKeys":d},null,8,["data","default-expanded-keys","checked-keys"])):!p.value&&M.value.length===0?($(),G(o(Ue),{key:1,description:"暂无角色数据"})):De("",!0)])]),_:1})]),_:1})])]),_:1},8,["show"])]),_:1},8,["visible","confirm-loading"])}}}),je=re(Re,[["__scopeId","data-v-4ba042b7"]]),Je=["id"],Qe=se({name:"UserManagement",__name:"UserManagement",setup(s){const c=g(),r=g(),{service:l,formDialogVisible:n,formDialogMode:y,currentEditUser:p,roleAuthDialogVisible:N,currentAuthUser:w,handleFormSubmit:U,handleToolbarClick:S,handleMenuClick:E,handleSearch:x}=$e(r,c);return(h,_)=>{var M;return $(),ke("div",{class:"user-management",id:o(l).model.moduleId},[m(o(de),{direction:"vertical","default-size":"80px"},{1:b(()=>[m(ue,ae({ref_key:"searchFormRef",ref:c,"module-id":o(l).model.moduleId},o(l).model.searchFormConfig,{onSearch:o(x),onToolbarClick:o(S)}),null,16,["module-id","onSearch","onToolbarClick"])]),2:b(()=>[m(o(ce),ae({ref_key:"gridRef",ref:r,"module-id":o(l).model.moduleId,data:o(l).model.userList,loading:o(l).model.loading},o(l).model.gridConfig,{onPageChange:o(l).handlePageChange,onMenuClick:o(E)}),null,16,["module-id","data","loading","onPageChange","onMenuClick"])]),_:1}),m(ne,{visible:o(n),"onUpdate:visible":_[0]||(_[0]=a=>te(n)?n.value=a:null),mode:o(y),title:o(y)==="create"?"新增用户":o(y)==="edit"?"编辑用户":"查看用户详情",to:`#${o(l).model.moduleId}`,"form-fields":o(l).model.formFields,"form-tabs":o(l).model.formTabs,"initial-data":o(p)||void 0,"auto-close-on-confirm":!1,"confirm-loading":o(l).model.loading.value,onSubmit:o(U)},null,8,["visible","mode","title","to","form-fields","form-tabs","initial-data","confirm-loading","onSubmit"]),m(je,{visible:o(N),"onUpdate:visible":_[1]||(_[1]=a=>te(N)?N.value=a:null),"user-id":((M=o(w))==null?void 0:M.userId)||"",user:o(w)||void 0,onSaved:o(x)},null,8,["visible","user-id","user","onSaved"])],8,Je)}}}),kt=re(Qe,[["__scopeId","data-v-f5d7f0b6"]]);export{kt as default};
