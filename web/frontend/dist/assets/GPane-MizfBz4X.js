import{O as q,P as B,Q as N,R as J,S as K,d as I,T as b,U as ee,V as te,W as L,r as x,X as ie,Y as ne,Z as se,j as z,$ as O,a0 as j,a1 as H,a2 as W,a3 as ae,c as G,n as M,g as re,f as A,a4 as g,a5 as X,w as Y,e as le,o as k,_ as oe}from"./index-talhFt-3.js";function de(e){const{primaryColorHover:a,borderColor:r}=e;return{resizableTriggerColorHover:a,resizableTriggerColor:r}}const ce={common:q,self:de},ue=B("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[N("horizontal",`
 flex-direction: row;
 `),N("vertical",`
 flex-direction: column;
 `),B("split-pane-1",`
 overflow: hidden;
 `),B("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),J("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[N("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),K("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ge=Object.assign(Object.assign({},L.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),fe=I({name:"Split",props:ge,slots:Object,setup(e){var a;const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=te(e),l=L("Split","-split",ue,ce,e,r),d=z(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:s,resizableTriggerColorHover:c}}=l.value;return{"--n-bezier":i,"--n-resize-trigger-color":s,"--n-resize-trigger-color-hover":c}}),o=x(null),v=x(!1),R=ae(e,"size"),S=x(e.defaultSize);!((a=e.watchProps)===null||a===void 0)&&a.includes("defaultSize")&&ie(()=>S.value=e.defaultSize);const m=i=>{const s=e["onUpdate:size"];e.onUpdateSize&&H(e.onUpdateSize,i),s&&H(s,i),S.value=i},C=ne(R,S),w=z(()=>{const i=C.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const s=i*100;return{flex:`0 0 calc(${s}% - ${e.resizeTriggerSize*s/100}px)`}}}),$=z(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),D=z(()=>{const i=e.direction==="horizontal";return{width:i?`${e.resizeTriggerSize}px`:"",height:i?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let y=0;const F=i=>{i.preventDefault(),v.value=!0,e.onDragStart&&e.onDragStart(i);const s="mousemove",c="mouseup",u=f=>{U(f),e.onDragMove&&e.onDragMove(f)},p=()=>{W(s,document,u),W(c,document,p),v.value=!1,e.onDragEnd&&e.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=D.value.cursor,O(s,document,u),O(c,document,p);const P=o.value;if(P){const f=P.getBoundingClientRect();e.direction==="horizontal"?y=i.clientX-f.left:y=f.top-i.clientY}U(i)};function U(i){var s,c;const u=(c=(s=o.value)===null||s===void 0?void 0:s.parentElement)===null||c===void 0?void 0:c.getBoundingClientRect();if(!u)return;const{direction:p}=e,P=u.width-e.resizeTriggerSize,f=u.height-e.resizeTriggerSize,T=p==="horizontal"?P:f,Q=p==="horizontal"?i.clientX-u.left-y:i.clientY-u.top+y,{min:E,max:V}=e,Z=typeof E=="string"?j(E):E*T,_=typeof V=="string"?j(V):V*T;let h=Q;h=Math.max(h,Z),h=Math.min(h,_,T),typeof C.value=="string"?m(`${h}px`):m(h/T)}const t=n?se("split",void 0,d,e):void 0;return{themeClass:t==null?void 0:t.themeClass,onRender:t==null?void 0:t.onRender,cssVars:n?void 0:d,resizeTriggerElRef:o,isDragging:v,mergedClsPrefix:r,resizeTriggerWrapperStyle:D,resizeTriggerStyle:$,handleMouseDown:F,firstPaneStyle:w}},render(){var e,a,r,n,l;return(e=this.onRender)===null||e===void 0||e.call(this),b("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},b("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(r=(a=this.$slots)[1])===null||r===void 0?void 0:r.call(a)),!this.disabled&&b("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},ee(this.$slots["resize-trigger"],()=>[b("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),b("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(l=(n=this.$slots)[2])===null||l===void 0?void 0:l.call(n)))}}),ze=I({name:"GPane",__name:"GPane",props:{direction:{default:"vertical"},defaultSize:{},size:{},min:{default:0},max:{default:1},resizeTriggerSize:{default:2},disabled:{type:Boolean,default:!1},noResize:{type:Boolean,default:!1},pane1Class:{},pane1Style:{},pane2Class:{},pane2Style:{}},emits:["update:size","drag-start","drag-end"],setup(e,{expose:a,emit:r}){const n=e,l=r,d=x(!0),o=x(n.size),v=t=>{d.value&&(o.value=t,l("update:size",t))},R=t=>{l("drag-start",t)},S=t=>{l("drag-end",t)},m=z(()=>{if(!d.value)return 1;const t=n.defaultSize;if(typeof t=="number")return Math.max(0,Math.min(1,t));if(typeof t=="string"){if(t.endsWith("%")){const s=parseFloat(t)/100;return Math.max(0,Math.min(1,s))}const i=parseFloat(t);if(!isNaN(i))return Math.max(0,Math.min(1,i<=1?i:i/100))}return .5}),C=z(()=>{if(!n.noResize||n.defaultSize===void 0)return n.pane1Style||{};const t=typeof n.pane1Style=="string"?{}:n.pane1Style||{},i=m.value;return{...t,flex:`${i} ${i} 0`}}),w=z(()=>{if(!n.noResize||n.defaultSize===void 0)return n.pane2Style||{};const t=typeof n.pane2Style=="string"?{}:n.pane2Style||{},s=1-m.value;return{...t,flex:`${s} ${s} 0`}}),$=t=>{d.value=t,t?n.size===void 0&&(o.value=n.defaultSize):o.value=1};return a({setPane2Visible:$,getPane2Visible:()=>d.value,togglePane2Visible:()=>{$(!d.value)},setSize:t=>{o.value=t,l("update:size",t)},getSize:()=>o.value??n.defaultSize}),(t,i)=>(k(),G("div",{class:M(["g-pane",`g-pane--${e.direction}`])},[e.noResize?(k(),G("div",{key:0,class:M(["g-pane__flex-container",`g-pane__flex-container--${e.direction}`])},[A("div",{class:M(["g-pane__flex-pane g-pane__flex-pane--1",e.pane1Class]),style:X(C.value)},[g(t.$slots,"1",{},()=>[g(t.$slots,"pane1",{},void 0,!0)],!0)],6),A("div",{class:M(["g-pane__flex-pane g-pane__flex-pane--2",e.pane2Class]),style:X(w.value)},[g(t.$slots,"2",{},()=>[g(t.$slots,"pane2",{},void 0,!0)],!0)],6)],2)):(k(),re(le(fe),{key:1,direction:e.direction,"default-size":e.defaultSize,size:o.value,min:e.min,max:e.max,"resize-trigger-size":e.resizeTriggerSize,disabled:e.disabled,"pane1-class":e.pane1Class,"pane1-style":e.pane1Style,"pane2-class":e.pane2Class,"pane2-style":e.pane2Style,"onUpdate:size":v,"on-drag-start":R,"on-drag-end":S},{1:Y(()=>[g(t.$slots,"1",{},()=>[g(t.$slots,"pane1",{},void 0,!0)],!0)]),2:Y(()=>[g(t.$slots,"2",{},()=>[g(t.$slots,"pane2",{},void 0,!0)],!0)]),_:3},8,["direction","default-size","size","min","max","resize-trigger-size","disabled","pane1-class","pane1-style","pane2-class","pane2-style"]))],2))}}),ve=oe(ze,[["__scopeId","data-v-6be22735"]]);export{ve as G};
