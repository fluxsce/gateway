import{d as X,r as le,P as Z,c as q,h as c,o as l,w as o,e as v,f as u,S as he,n as ue,bW as K,g as T,b as z,ck as G,i as S,t as O,bL as de,J as Q,K as H,j as W,Z as $,cu as _e,_ as oe,a2 as J,cw as ve,cx as ce,u as we,cy as se,cz as ke,cA as Ce,cB as Se,cC as Le,cD as ze,cE as Be,cF as Fe,cG as $e,a4 as P,a0 as Te,m as De,co as be,cH as ne,Y as Ue,E as Ne,L as Oe,aI as E,bO as ae,D as Ie,F as re,G as fe}from"./index-jHKRbIks.js";import{S as Ae}from"./Scrollbar-Cp6RabE0.js";import{a as Ge,D as je}from"./OptionsOutline-CAwLTA62.js";import{N as pe,a as me}from"./GDialog.vue_vue_type_style_index_0_scoped_82fcf09e_lang-ipra4ei3.js";/* empty css                                                                    */import{G as Ee}from"./SearchForm-B7rqpwYi.js";import{N as Re}from"./DatePicker-yujoZiwS.js";import{D as ge}from"./WarningOutline-mxXhdHS1.js";import{I as Ve}from"./InformationCircleOutline-DNMSQWXj.js";import{_ as ie,a as Y}from"./Grid-qwIbHEjp.js";import{N as Pe}from"./InputNumber-BwbhDD7_.js";import{N as Me}from"./Switch-C69H-VEY.js";import{_ as xe}from"./Select-CGsj-ZtY.js";const He={key:0,class:"g-dialog__header-icon"},qe={class:"g-dialog__header-content"},Ke={key:0,class:"g-dialog__title"},We={key:1,class:"g-dialog__subtitle"},Je={class:"g-dialog__header-extra"},Ze={class:"g-dialog__body"},Ye={class:"g-dialog__content-wrapper"},Qe={class:"g-dialog__content"},Xe={class:"g-dialog__content"},et={key:0,class:"g-dialog__footer"},tt={class:"g-dialog__footer-inner"},at={key:0,class:"g-dialog__footer-subtitle"},lt=X({name:"GDialog",__name:"GDialog",props:{show:{type:Boolean,default:!1},width:{default:1e3},title:{},subtitle:{},subtitlePosition:{default:"footer"},icon:{},iconSize:{default:24},headerStyle:{default:"default"},headerCustomStyle:{type:[Boolean,null,String,Object,Array]},maskClosable:{type:Boolean,default:!1},closeOnEsc:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},contentMaxHeight:{},showScrollbar:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{default:"取消"},confirmText:{default:"确定"},confirmLoading:{type:Boolean,default:!1},autoCloseOnConfirm:{type:Boolean,default:!1},footerButtonAlign:{},showFullscreenToggle:{type:Boolean},draggable:{type:Boolean,default:!1},cardClass:{},style:{type:[Boolean,null,String,Object,Array]}},emits:["update:show","cancel","confirm","close","after-enter","after-leave"],setup(p,{emit:_}){const e=p,s=_,m=le(e.show);Z(()=>e.show,k=>{m.value=k}),Z(m,k=>{k!==e.show&&s("update:show",k)});const d=q(()=>{const k={};return e.style&&typeof e.style=="object"&&!Array.isArray(e.style)&&Object.assign(k,e.style),k}),f=q(()=>({width:typeof e.width=="number"?`${e.width}px`:e.width,...e.style&&typeof e.style=="object"&&!Array.isArray(e.style)?e.style:{}})),I=q(()=>e.headerCustomStyle?e.headerCustomStyle:{}),y=k=>{m.value=k,k||s("close")},L=()=>{m.value=!1,s("close")},D=()=>{s("cancel"),m.value=!1},j=()=>{s("confirm"),e.autoCloseOnConfirm&&(m.value=!1)};return(k,V)=>(l(),c(u(_e),{show:m.value,"onUpdate:show":[V[0]||(V[0]=r=>m.value=r),y],"mask-closable":e.maskClosable,"close-on-esc":e.closeOnEsc,draggable:e.draggable,"transform-origin":"center",style:K(d.value),onAfterEnter:V[1]||(V[1]=r=>s("after-enter")),onAfterLeave:V[2]||(V[2]=r=>s("after-leave"))},{default:o(()=>[v(u(he),{style:K(f.value),bordered:!1,size:"huge",role:"dialog","aria-modal":"true",class:ue(["g-dialog",e.cardClass,{"g-dialog--gradient-header":e.headerStyle==="gradient"}])},{header:o(()=>[G(k.$slots,"header",{title:e.title,subtitle:e.subtitle,icon:e.icon},()=>[T("div",{class:"g-dialog__header",style:K(I.value)},[e.icon||k.$slots.icon?(l(),z("div",He,[G(k.$slots,"icon",{},()=>[e.icon?(l(),c(u(W),{key:0,size:e.iconSize||24},{default:o(()=>[(l(),c($(e.icon)))]),_:1},8,["size"])):S("",!0)],!0)])):S("",!0),T("div",qe,[e.title?(l(),z("h3",Ke,O(e.title),1)):S("",!0),e.subtitle&&e.subtitlePosition!=="footer"?(l(),z("p",We,O(e.subtitle),1)):S("",!0)]),T("div",Je,[G(k.$slots,"header-extra",{},()=>[e.closable?(l(),c(u(Q),{key:0,quaternary:"",circle:"",class:"g-dialog__close-btn",onClick:L},{icon:o(()=>[v(u(W),{size:18},{default:o(()=>[v(u(Ge))]),_:1})]),_:1})):S("",!0)],!0)])],4)],!0)]),footer:o(()=>[G(k.$slots,"footer",{confirmLoading:e.confirmLoading,onConfirm:j,onCancel:D},()=>[e.showFooter?(l(),z("div",et,[T("div",tt,[e.subtitle&&e.subtitlePosition==="footer"?(l(),z("div",at,O(e.subtitle),1)):S("",!0),v(u(de),{justify:e.footerButtonAlign||"end",size:8,class:"g-dialog__footer-buttons"},{default:o(()=>[e.showCancel?(l(),c(u(Q),{key:0,size:"small",onClick:D},{default:o(()=>[H(O(e.cancelText),1)]),_:1})):S("",!0),e.showConfirm?(l(),c(u(Q),{key:1,type:"primary",size:"small",loading:e.confirmLoading,onClick:j},{default:o(()=>[H(O(e.confirmText),1)]),_:1},8,["loading"])):S("",!0)]),_:1},8,["justify"])])])):S("",!0)],!0)]),default:o(()=>[T("div",Ze,[e.showScrollbar?(l(),c(u(Ae),{key:0,style:K({maxHeight:e.contentMaxHeight||"70vh"}),trigger:"hover","x-scrollable":!1},{default:o(()=>[T("div",Ye,[T("div",Qe,[G(k.$slots,"default",{},void 0,!0)])])]),_:3},8,["style"])):(l(),z("div",{key:1,class:"g-dialog__content-wrapper",style:K({maxHeight:e.contentMaxHeight})},[T("div",Xe,[G(k.$slots,"default",{},void 0,!0)])],4))])]),_:3},8,["style","class"])]),_:3},8,["show","mask-closable","close-on-esc","draggable","style"]))}}),ot=oe(lt,[["__scopeId","data-v-82fcf09e"]]);function st(){const _=we().theme,e=_==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches:_==="dark",s=e?Fe:null,m=$e(),d=m==="en"?ze:Be,f=m==="en"?Se:Le,I={highlight:se.highlight.bind(se),getLanguage:se.getLanguage.bind(se)};return{isDark:e,naiveTheme:s,naiveLocale:d,naiveDateLocale:f,themeOverrides:e?ke:Ce,hljsInstance:I}}function R(p){return new Promise(_=>{let e=document.createElement("div"),s=!1;const m=st(),d=p.content?typeof p.content=="string"?J("div",{style:{whiteSpace:"pre-line",lineHeight:"1.6"}},p.content):typeof p.content=="object"&&"render"in p.content?J(p.content):p.content:null,f=J(ot,{show:!0,title:p.title,subtitle:p.subtitle,subtitlePosition:p.subtitlePosition||"footer",icon:p.icon,iconSize:p.iconSize,headerStyle:p.headerStyle||"default",width:p.width||500,maskClosable:p.maskClosable!==!1,closeOnEsc:p.closeOnEsc!==!1,showCancel:p.showCancel!==!1,showConfirm:p.showConfirm!==!1,cancelText:p.negativeText||"取消",confirmText:p.positiveText||"确定",confirmLoading:p.confirmLoading||!1,footerButtonAlign:p.footerButtonAlign||"end",autoCloseOnConfirm:!1,onUpdateShow:L=>{!L&&!s&&y()},onConfirm:()=>{s||(y(),_(!0))},onCancel:()=>{s||(y(),_(!1))},onClose:()=>{s||(y(),_(!1))}},{default:()=>d}),I=J(ve,{theme:m.naiveTheme,themeOverrides:m.themeOverrides,locale:m.naiveLocale,dateLocale:m.naiveDateLocale,hljs:m.hljsInstance},{default:()=>f});e&&(ce(I,e),document.body.appendChild(e));function y(){s||!e||(s=!0,e.parentNode&&(ce(null,e),e.parentNode.removeChild(e),e=null))}})}function Gt(){return{warning:f=>R(typeof f=="string"?{title:"警告",content:f,headerStyle:"gradient",width:500}:{title:"警告",headerStyle:"gradient",width:500,...f}),info:f=>R(typeof f=="string"?{title:"提示",content:f,width:500}:{title:"提示",width:500,...f}),success:f=>R(typeof f=="string"?{title:"成功",content:f,headerStyle:"gradient",width:500,showCancel:!1}:{title:"成功",headerStyle:"gradient",width:500,showCancel:!1,...f}),error:f=>R(typeof f=="string"?{title:"错误",content:f,headerStyle:"gradient",width:500,showCancel:!1}:{title:"错误",headerStyle:"gradient",width:500,showCancel:!1,...f}),confirm:f=>R(typeof f=="string"?{title:"确认",content:f,width:500}:{title:"确认",width:500,...f}),create:f=>R(f)}}const nt=X({__name:"GDate",props:{value:{default:null},outputFormat:{default:"iso"}},emits:["update:value"],setup(p,{emit:_}){const e=p,s=_,m=y=>{if(y==null)return null;if(Array.isArray(y)){const L=y.map(D=>{if(typeof D=="string"){const j=new Date(D).getTime();return isNaN(j)||j<0?null:j}return typeof D=="number"?D:null}).filter(D=>D!==null);return L.length===2?[L[0],L[1]]:L.length===1?L[0]:null}if(typeof y=="string"){if(y.trim()==="")return null;const L=new Date(y).getTime();return isNaN(L)||L<0?null:L}return typeof y=="number"?y:null},d=q(()=>m(e.value)),f=y=>{const L=new Date(y);return isNaN(L.getTime())||L.getTime()<0?"":L.toISOString()},I=y=>{if(y===null){s("update:value",null);return}e.outputFormat==="iso"?Array.isArray(y)?s("update:value",[f(y[0]),f(y[1])]):s("update:value",f(y)):s("update:value",y)};return Z(()=>e.value,()=>{},{deep:!0}),(y,L)=>(l(),c(u(Re),P(y.$attrs,{value:d.value,"onUpdate:value":I}),null,16,["value"]))}}),rt=["disabled"],it={key:0,class:"g-fieldset__legend"},ut={class:"g-fieldset__title-wrapper"},dt={class:"g-fieldset__content"},ct=X({name:"GFieldset",__name:"GFieldset",props:{title:{default:""},titleStrong:{type:Boolean,default:!1},titleSize:{default:200},borderStyle:{default:"dashed"},selected:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(p,{emit:_}){const e=p;return Te("fieldsetDisabled",()=>e.disabled),Z(()=>e.disabled,()=>{}),(s,m)=>(l(),z("fieldset",{class:ue(["g-fieldset",{[`g-fieldset--border-${s.borderStyle}`]:s.borderStyle,"g-fieldset--selected":s.selected,"g-fieldset--disabled":s.disabled}]),disabled:s.disabled},[s.title||s.$slots.title?(l(),z("legend",it,[T("div",ut,[G(s.$slots,"title",{},()=>[s.title?(l(),z("span",{key:0,class:ue(["g-fieldset__title",{"g-fieldset__title--strong":s.titleStrong,[`g-fieldset__title--${s.titleSize}`]:typeof s.titleSize=="string"&&s.titleSize}]),style:K(typeof s.titleSize=="number"?{fontWeight:s.titleSize}:void 0)},O(s.title),7)):S("",!0)],!0),G(s.$slots,"title-extra",{},void 0,!0)])])):S("",!0),T("div",dt,[G(s.$slots,"default",{},void 0,!0)])],10,rt))}}),ye=oe(ct,[["__scopeId","data-v-8eb7011e"]]),ft={class:"upload-content"},pt={class:"upload-content"},mt=X({name:"GFileUpload",__name:"GFileUpload",props:{fileList:{default:()=>[]},config:{default:()=>({mode:"text",max:1,maxSize:10*1024*1024,showFileList:!0,draggable:!0})},disabled:{type:Boolean,default:!1},title:{},titleIcon:{},titleIconColor:{},showDownload:{type:Boolean,default:!1},downloadText:{default:"下载"},callbacks:{}},emits:["update:fileList","change","remove","download","error"],setup(p,{emit:_}){const e=p,s=_,m=De(),d=le([]),f=q(()=>!!e.title||!!e.titleIcon),I=q(()=>d.value.length>0&&e.fileList&&e.fileList.length>0),y=r=>new Promise((h,M)=>{const B=new FileReader;B.onload=F=>{var C;return h((C=F.target)==null?void 0:C.result)},B.onerror=M,B.readAsText(r)}),L=r=>new Promise((h,M)=>{const B=new FileReader;B.onload=F=>{var A;const C=(A=F.target)==null?void 0:A.result,x=C.split(",")[1]||C;h(x)},B.onerror=M,B.readAsDataURL(r)}),D=()=>{},j=async r=>{var B,F,C,x;const{file:h,fileList:M}=r;if(h.file)try{if(e.config.maxSize&&h.file.size>e.config.maxSize){m.error(`文件大小不能超过 ${(e.config.maxSize/1024/1024).toFixed(2)}MB`);return}const A=e.config.mode||"text";let ee,t;A==="text"?ee=await y(h.file):A==="base64"&&(t=await L(h.file));const i={id:h.id||`file-${Date.now()}`,name:h.file.name,size:h.file.size,type:h.file.type,status:"finished",content:ee,base64:t,file:A==="binary"?h.file:void 0},a=[i];d.value=M,s("update:fileList",a),s("change",i),(F=(B=e.callbacks)==null?void 0:B.onChange)==null||F.call(B,i),m.success("文件上传成功")}catch(A){m.error("文件读取失败"),s("error",A),(x=(C=e.callbacks)==null?void 0:C.onError)==null||x.call(C,A),console.error("Error reading file:",A)}},k=()=>{var r,h;d.value=[],s("update:fileList",[]),s("remove"),(h=(r=e.callbacks)==null?void 0:r.onRemove)==null||h.call(r),m.info("已移除文件")},V=()=>{var h;if(!e.fileList||e.fileList.length===0){m.warning("没有可下载的文件");return}const r=e.fileList[0];if(s("download",r),(h=e.callbacks)!=null&&h.onDownload){e.callbacks.onDownload(r);return}if(r.content){const M=r.name||"file.txt",B=new Blob([r.content],{type:r.type||"text/plain"}),F=URL.createObjectURL(B),C=document.createElement("a");C.href=F,C.download=M,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(F),m.success("文件下载成功")}else m.warning("文件内容不可用")};return Z(()=>e.fileList,r=>{r&&r.length>0?d.value=r.map(h=>({id:h.id,name:h.name,status:h.status||"finished",type:h.type})):d.value=[]},{immediate:!0,deep:!0}),(r,h)=>f.value?(l(),c(u(he),{key:0,size:"small",class:"g-file-upload-card"},be({default:o(()=>[v(u(pe),{"file-list":d.value,max:r.config.max??1,accept:r.config.accept,"show-file-list":r.config.showFileList!==!1,disabled:r.disabled,"custom-request":D,onChange:j,onRemove:k,class:"g-file-upload"},{default:o(()=>[r.config.draggable!==!1?(l(),c(u(me),{key:0},{default:o(()=>[T("div",ft,[v(u(W),{size:"32",depth:"3"},{default:o(()=>[v(u(ge))]),_:1}),v(u(ne),{depth:"3"},{default:o(()=>[H(O(r.config.uploadText||"点击或拖拽上传文件"),1)]),_:1}),r.config.uploadDescription?(l(),c(u(ne),{key:0,depth:"3",style:{"font-size":"12px"}},{default:o(()=>[H(O(r.config.uploadDescription),1)]),_:1})):S("",!0)])]),_:1})):S("",!0)]),_:1},8,["file-list","max","accept","show-file-list","disabled"])]),_:2},[r.title||r.$slots.title?{name:"header",fn:o(()=>[v(u(de),{align:"center",justify:"space-between"},{default:o(()=>[v(u(de),{align:"center"},{default:o(()=>[r.titleIcon?(l(),c(u(W),{key:0,size:16,color:r.titleIconColor},{default:o(()=>[(l(),c($(r.titleIcon)))]),_:1},8,["color"])):S("",!0),T("span",null,O(r.title),1)]),_:1}),r.showDownload&&I.value?(l(),c(u(Q),{key:0,text:"",size:"small",onClick:V,title:r.downloadText||"下载文件"},{icon:o(()=>[v(u(W),{size:"16"},{default:o(()=>[v(u(je))]),_:1})]),_:1},8,["title"])):S("",!0)]),_:1})]),key:"0"}:void 0]),1024)):(l(),c(u(pe),{key:1,"file-list":d.value,max:r.config.max??1,accept:r.config.accept,"show-file-list":r.config.showFileList!==!1,disabled:r.disabled,"custom-request":D,onChange:j,onRemove:k,class:"g-file-upload"},{default:o(()=>[r.config.draggable!==!1?(l(),c(u(me),{key:0},{default:o(()=>[T("div",pt,[v(u(W),{size:"32",depth:"3"},{default:o(()=>[v(u(ge))]),_:1}),v(u(ne),{depth:"3"},{default:o(()=>[H(O(r.config.uploadText||"点击或拖拽上传文件"),1)]),_:1}),r.config.uploadDescription?(l(),c(u(ne),{key:0,depth:"3",style:{"font-size":"12px"}},{default:o(()=>[H(O(r.config.uploadDescription),1)]),_:1})):S("",!0)])]),_:1})):S("",!0)]),_:1},8,["file-list","max","accept","show-file-list","disabled"]))}}),gt=oe(mt,[["__scopeId","data-v-38055c1b"]]),yt={class:"g-tips__content"},ht=X({name:"GTips",__name:"GTips",props:{content:{default:""},trigger:{default:"hover"},placement:{default:"top"},showArrow:{type:Boolean,default:!0},maxWidth:{default:320},delay:{default:0},duration:{default:100},iconSize:{default:16},iconStyle:{default:()=>({})}},setup(p){return(_,e)=>(l(),c(u(Ue),{trigger:_.trigger,placement:_.placement,"show-arrow":_.showArrow,style:K({maxWidth:`${_.maxWidth}px`}),delay:_.delay,duration:_.duration},{trigger:o(()=>[v(u(W),{size:_.iconSize,class:ue(["g-tips__icon",`g-tips__icon--${_.iconSize}`]),style:K(_.iconStyle)},{default:o(()=>[v(u(Ve))]),_:1},8,["size","class","style"])]),default:o(()=>[T("div",yt,[G(_.$slots,"default",{},()=>[H(O(_.content),1)],!0)])]),_:3},8,["trigger","placement","show-arrow","style","delay","duration"]))}}),bt=oe(ht,[["__scopeId","data-v-ff25cb35"]]),_t={class:"g-data-modal__header"},vt={class:"g-modal__title"},wt={class:"g-data-modal__body"},kt={class:"g-data-modal__footer"},Ct=X({name:"GdataFormModal",__name:"GDataFormModal",props:{mode:{default:"create"},formFields:{default:()=>[]},formTabs:{default:()=>[]},autoCloseOnConfirm:{type:Boolean,default:!0},autoResetOnClose:{type:Boolean,default:!1},initialData:{},visible:{type:Boolean,default:!1},title:{default:""},headerIcon:{},width:{default:"60%"},preset:{default:"dialog"},maskClosable:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{default:"取消"},confirmText:{default:"保存"},confirmLoading:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!0},draggable:{type:Boolean},mask:{type:Boolean},blockScroll:{type:Boolean},to:{type:[String,Boolean]},segmented:{type:[Boolean,Object],default:!1},bordered:{type:Boolean,default:!1},showFullscreenToggle:{type:Boolean,default:!0},style:{type:[Boolean,null,String,Object,Array]}},emits:["submit","reset","update:visible","cancel","confirm","close","after-enter","after-leave"],setup(p,{emit:_}){var ee;const e=p,s=_,m=le(null),d=le({}),f=q(()=>{let t=[];if(e.formTabs&&e.formTabs.length>0)t=e.formTabs;else{const i=Array.from(new Set((e.formFields||[]).map(a=>a.tabKey).filter(a=>!!a)));i.length>0?t=i.map(a=>({key:a,label:a})):t=[{key:"default",label:e.title||"表单"}]}return t.filter(i=>typeof i.show=="function"?i.show(d.value):i.show!==!1)}),I=le(((ee=f.value[0])==null?void 0:ee.key)||"default");Z(f,t=>{var i;t.length>0&&!t.some(a=>a.key===I.value)&&(I.value=((i=t[0])==null?void 0:i.key)||"default")},{immediate:!1});const y=t=>{const i=(a,n)=>a.filter(g=>{var N;return(g.tabKey||n||((N=f.value[0])==null?void 0:N.key)||"default")===t}).map(g=>{var U;if(g.type==="fieldset"&&g.children){const N=g.tabKey||n||((U=f.value[0])==null?void 0:U.key)||"default";return{...g,children:i(g.children,N)}}return g});return i(e.formFields)},L=q(()=>{if(e.title)return e.title;switch(e.mode){case"create":return"新增";case"edit":return"编辑";case"view":return"查看详情";default:return""}}),D=(t,i,a)=>{const n=t.field;if(t.type==="fieldset"){t.children&&t.children.forEach(g=>{D(g,i,a)});return}if(Object.prototype.hasOwnProperty.call(a,n)&&a[n]!==void 0)i[n]=a[n];else if(Object.prototype.hasOwnProperty.call(t,"defaultValue"))i[n]=t.defaultValue;else switch(t.type){case"date":case"datetime":case"daterange":case"datetimerange":i[n]=null;break;case"number":i[n]=null;break;case"switch":i[n]=!1;break;case"file":i[n]=[];break;default:i[n]=i[n]??""}},j=()=>{var a;const t={},i=e.initialData?JSON.parse(JSON.stringify(e.initialData)):{};e.formFields.forEach(n=>{D(n,t,i)}),d.value=t,(a=m.value)==null||a.restoreValidation()},k=(t,i)=>{if(t.type==="fieldset"){t.children&&t.children.forEach(a=>{k(a,i)});return}if(t.rules)i[t.field]=t.rules;else if(t.required){const a=t.type==="select"||t.type==="date"||t.type==="datetime"||t.type==="daterange"||t.type==="datetimerange"||t.type==="switch";t.type==="number"?i[t.field]=[{required:!0,type:"number",message:`请输入${r(t)}`,trigger:"blur",validator:(n,g)=>{const U=r(t);if(g==null||g==="")return new Error(`请输入${U}`);const N=typeof g=="number"?g:Number(g);return isNaN(N)?new Error(`${U}必须是数字`):!0}}]:i[t.field]=[{required:!0,message:`请输入${r(t)}`,trigger:a?"change":"blur"}]}},V=q(()=>{const t={};return e.formFields.forEach(i=>{k(i,t)}),t}),r=t=>typeof t.label=="function"?t.label(d.value):t.label,h=t=>{const i=r(t);return t.tips?()=>J("span",{class:"g-form-label-with-tips"},[i,J("span",{class:"g-form-label-tips"},[(()=>{if(!t.tips)return null;let a;return typeof t.tips=="function"?a=t.tips(d.value):a=t.tips,typeof a=="string"?J(bt,{content:a}):a})()])]):()=>i};Z(()=>e.visible,t=>{t&&j()});const M=t=>{s("update:visible",t),!t&&e.autoResetOnClose&&(s("reset"),j()),t||s("close")},B=()=>{s("cancel"),s("update:visible",!1)},F=t=>{switch(t.type){case"select":return xe;case"number":return Pe;case"switch":return Me;case"date":case"datetime":case"daterange":case"datetimerange":return nt;case"file":return gt;case"textarea":return fe;case"input":default:return fe}},C=t=>{var a,n,g,U,N,w,b;const i={disabled:e.mode==="view"||e.mode==="edit"&&t.primary===!0?!0:t.disabled??!1,...t.props??{}};switch(t.type){case"textarea":return{placeholder:t.placeholder,type:"textarea",...i};case"select":return{placeholder:t.placeholder,options:t.options,clearable:t.clearable??!0,...i};case"number":return{placeholder:t.placeholder,...i};case"switch":return{...i};case"date":case"datetime":case"daterange":case"datetimerange":return{placeholder:t.placeholder,type:t.type,...i};case"file":return{...i,config:(a=t.props)==null?void 0:a.config,title:(n=t.props)==null?void 0:n.title,titleIcon:(g=t.props)==null?void 0:g.titleIcon,titleIconColor:(U=t.props)==null?void 0:U.titleIconColor,showDownload:((N=t.props)==null?void 0:N.showDownload)??!1,downloadText:(w=t.props)==null?void 0:w.downloadText,callbacks:(b=t.props)==null?void 0:b.callbacks};case"input":default:return{placeholder:t.placeholder,clearable:t.clearable??!0,...i}}},x=(t,i)=>{var a;d.value[t.field]=i,(a=t.props)!=null&&a.onUpdateValue&&typeof t.props.onUpdateValue=="function"&&t.props.onUpdateValue(i,d.value)},A=async()=>{if(m.value)try{await m.value.validate()}catch{return}const t={...d.value};s("submit",t),s("confirm"),e.autoCloseOnConfirm&&s("update:visible",!1)};return(t,i)=>(l(),c(u(Ee),P(e,{"onUpdate:visible":M,onCancel:B,onConfirm:A,onAfterEnter:i[1]||(i[1]=a=>s("after-enter")),onAfterLeave:i[2]||(i[2]=a=>s("after-leave"))}),be({header:o(()=>[G(t.$slots,"header",{mode:e.mode},()=>[T("div",_t,[T("span",vt,O(L.value),1)])],!0)]),default:o(()=>[T("div",wt,[G(t.$slots,"default",{mode:e.mode,formData:d.value,formRef:m.value},()=>[v(u(Ne),{ref_key:"formRef",ref:m,model:d.value,rules:V.value,"label-placement":"left","label-width":"auto",size:"small"},{default:o(()=>[f.value.length>1?(l(),c(u(Oe),{key:0,value:I.value,"onUpdate:value":i[0]||(i[0]=a=>I.value=a),type:"line",size:"small",class:"g-data-modal__tabs"},{default:o(()=>[(l(!0),z(E,null,ae(f.value,a=>(l(),c(u(Ie),{key:a.key,name:a.key,tab:a.label,style:{padding:"var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) !important"}},{default:o(()=>[v(u(ie),{cols:24,"x-gap":16,"y-gap":8},{default:o(()=>[(l(!0),z(E,null,ae(y(a.key),n=>(l(),z(E,{key:n.field},[n.type==="fieldset"?(l(),c(u(Y),{key:0,span:24},{default:o(()=>{var g,U,N,w;return[v(u(ye),{title:r(n),"title-strong":((g=n.props)==null?void 0:g.titleStrong)??!1,"title-size":((U=n.props)==null?void 0:U.titleSize)??300,"border-style":(N=n.props)==null?void 0:N.borderStyle,selected:((w=n.props)==null?void 0:w.selected)??!1,disabled:n.disabled??!1},{default:o(()=>[v(u(ie),{cols:24,"x-gap":16,"y-gap":8},{default:o(()=>[(l(!0),z(E,null,ae(n.children,b=>(l(),z(E,{key:b.field},[(typeof b.show=="function"?b.show(d.value):b.show!==!1)?(l(),c(u(Y),{key:0,span:b.span??12},{default:o(()=>[v(u(re),{path:b.field,style:{width:"100%"}},{label:o(()=>[(l(),c($(h(b))))]),default:o(()=>[b.type==="custom"&&b.render?(l(),c($(b.render(d.value)),{key:0})):b.type==="file"?(l(),c($(F(b)),P({key:1,ref_for:!0},C(b),{"file-list":d.value[b.field],"onUpdate:fileList":te=>d.value[b.field]=te}),null,16,["file-list","onUpdate:fileList"])):(l(),c($(F(b)),P({key:2,ref_for:!0},C(b),{value:d.value[b.field],"onUpdate:value":[te=>d.value[b.field]=te,te=>x(b,te)]}),null,16,["value","onUpdate:value"]))]),_:2},1032,["path"])]),_:2},1032,["span"])):S("",!0)],64))),128))]),_:2},1024)]),_:2},1032,["title","title-strong","title-size","border-style","selected","disabled"])]}),_:2},1024)):(l(),z(E,{key:1},[(typeof n.show=="function"?n.show(d.value):n.show!==!1)?(l(),c(u(Y),{key:0,span:n.span??12},{default:o(()=>[v(u(re),{path:n.field,style:{width:"100%"}},{label:o(()=>[(l(),c($(h(n))))]),default:o(()=>[n.type==="custom"&&n.render?(l(),c($(n.render(d.value)),{key:0})):n.type==="file"?(l(),c($(F(n)),P({key:1,ref_for:!0},C(n),{"file-list":d.value[n.field],"onUpdate:fileList":g=>d.value[n.field]=g}),null,16,["file-list","onUpdate:fileList"])):(l(),c($(F(n)),P({key:2,ref_for:!0},C(n),{value:d.value[n.field],"onUpdate:value":[g=>d.value[n.field]=g,g=>x(n,g)]}),null,16,["value","onUpdate:value"]))]),_:2},1032,["path"])]),_:2},1032,["span"])):S("",!0)],64))],64))),128))]),_:2},1024)]),_:2},1032,["name","tab"]))),128))]),_:1},8,["value"])):(l(),c(u(ie),{key:1,cols:24,"x-gap":16,"y-gap":8},{default:o(()=>[(l(!0),z(E,null,ae(e.formFields,a=>(l(),z(E,{key:a.field},[a.type==="fieldset"?(l(),c(u(Y),{key:0,span:24},{default:o(()=>{var n,g,U,N;return[v(u(ye),{title:r(a),"title-strong":((n=a.props)==null?void 0:n.titleStrong)??!1,"title-size":((g=a.props)==null?void 0:g.titleSize)??"normal","border-style":(U=a.props)==null?void 0:U.borderStyle,selected:((N=a.props)==null?void 0:N.selected)??!1,disabled:a.disabled??!1},{default:o(()=>[v(u(ie),{cols:24,"x-gap":16,"y-gap":8},{default:o(()=>[(l(!0),z(E,null,ae(a.children,w=>(l(),z(E,{key:w.field},[(typeof w.show=="function"?w.show(d.value):w.show!==!1)?(l(),c(u(Y),{key:0,span:w.span??12},{default:o(()=>[v(u(re),{path:w.field},{label:o(()=>[(l(),c($(h(w))))]),default:o(()=>[w.type==="custom"&&w.render?(l(),c($(w.render(d.value)),{key:0})):w.type==="file"?(l(),c($(F(w)),P({key:1,ref_for:!0},C(w),{"file-list":d.value[w.field],"onUpdate:fileList":b=>d.value[w.field]=b}),null,16,["file-list","onUpdate:fileList"])):(l(),c($(F(w)),P({key:2,ref_for:!0},C(w),{value:d.value[w.field],"onUpdate:value":[b=>d.value[w.field]=b,b=>x(w,b)]}),null,16,["value","onUpdate:value"]))]),_:2},1032,["path"])]),_:2},1032,["span"])):S("",!0)],64))),128))]),_:2},1024)]),_:2},1032,["title","title-strong","title-size","border-style","selected","disabled"])]}),_:2},1024)):(l(),z(E,{key:1},[(typeof a.show=="function"?a.show(d.value):a.show!==!1)?(l(),c(u(Y),{key:0,span:a.span??12},{default:o(()=>[v(u(re),{path:a.field},{label:o(()=>[(l(),c($(h(a))))]),default:o(()=>[a.type==="custom"&&a.render?(l(),c($(a.render(d.value)),{key:0})):a.type==="file"?(l(),c($(F(a)),P({key:1,ref_for:!0},C(a),{"file-list":d.value[a.field],"onUpdate:fileList":n=>d.value[a.field]=n}),null,16,["file-list","onUpdate:fileList"])):(l(),c($(F(a)),P({key:2,ref_for:!0},C(a),{value:d.value[a.field],"onUpdate:value":[n=>d.value[a.field]=n,n=>x(a,n)]}),null,16,["value","onUpdate:value"]))]),_:2},1032,["path"])]),_:2},1032,["span"])):S("",!0)],64))],64))),128))]),_:1}))]),_:1},8,["model","rules"])],!0)])]),_:2},[e.showFooter?{name:"footer",fn:o(()=>[G(t.$slots,"footer",{mode:e.mode,confirmLoading:e.confirmLoading,onConfirm:A,onCancel:B},()=>[T("div",kt,[v(u(de),{justify:"end",size:8},{default:o(()=>[e.showCancel?(l(),c(u(Q),{key:0,size:"small",onClick:B},{default:o(()=>[H(O(e.cancelText),1)]),_:1})):S("",!0),e.showConfirm&&e.mode!=="view"?(l(),c(u(Q),{key:1,type:"primary",size:"small",loading:e.confirmLoading,onClick:A},{default:o(()=>[H(O(e.confirmText),1)]),_:1},8,["loading"])):S("",!0)]),_:1})])],!0)]),key:"0"}:void 0]),1040))}}),jt=oe(Ct,[["__scopeId","data-v-a4171c25"]]);export{jt as G,Gt as u};
