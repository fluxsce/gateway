import{d as A,r as I,c as N,h as n,o as l,f as a,cG as O,a4 as $,n as j,w as o,g as u,a5 as c,i as d,e as f,j as _,cH as b,ah as v,b as h,bO as k,J as m,K as p,t as i,_ as E}from"./index-DjxxKbEp.js";import{C as G}from"./DownloadOutline-BfRf1_li.js";import{E as L}from"./OptionsOutline-CJ-6A-d8.js";import{C as M}from"./CloseOutline-BhR4kvnt.js";import"./SearchForm-QXeOPYmP.js";const V={class:"g-modal__header"},D={class:"g-modal__header-main"},H={key:0,class:"g-modal__title"},U={class:"g-modal__close"},J={class:"g-modal__body"},K={key:0,class:"g-modal__footer"},W={key:0,class:"g-modal__footer"},q=A({name:"GModal",__name:"GModal",props:{visible:{type:Boolean,default:!1},title:{default:""},headerIcon:{},width:{default:"60%"},preset:{default:"dialog"},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{default:"取消"},confirmText:{default:"确定"},confirmLoading:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},mask:{type:Boolean,default:!1},blockScroll:{type:Boolean,default:!1},to:{type:[String,Boolean]},segmented:{type:[Boolean,Object],default:!1},bordered:{type:Boolean,default:!1},showFullscreenToggle:{type:Boolean,default:!0},style:{type:[Boolean,null,String,Object,Array]}},emits:["update:visible","cancel","confirm","close","after-enter","after-leave"],setup(w,{emit:C}){const e=w,s=C,r=I(!1),B=N(()=>{const t=r.value?{width:"100vw",maxWidth:"100vw",height:"100vh",maxHeight:"100vh"}:{width:typeof e.width=="number"?`${e.width}px`:e.width};return e.style?Array.isArray(e.style)?[t,...e.style]:[t,e.style]:t}),x=()=>{r.value=!r.value},z=()=>{s("update:visible",!1),r.value=!1,s("close")},F=t=>{s("update:visible",t),t||(r.value=!1,s("close"))},S=()=>{s("after-enter")},T=()=>{s("after-leave")},y=()=>{s("cancel"),s("update:visible",!1),r.value=!1},g=()=>{s("confirm")};return(t,P)=>(l(),n(a(O),{class:j({"g-modal--fullscreen":r.value}),show:e.visible,preset:e.preset,style:$(B.value),draggable:e.draggable,"unstable-show-mask":e.mask,"mask-closable":e.maskClosable,closable:e.closable,"auto-focus":e.autoFocus,"block-scroll":e.blockScroll,to:e.to===!1?void 0:e.to,segmented:e.segmented,bordered:e.bordered,"onUpdate:show":F,onAfterEnter:S,onAfterLeave:T},{icon:o(()=>[e.headerIcon?(l(),n(a(_),{key:0},{default:o(()=>[(l(),n(v(e.headerIcon)))]),_:1})):c(t.$slots,"headerIcon",{key:1},void 0,!0)]),header:o(()=>[u("div",V,[u("div",D,[c(t.$slots,"header",{},()=>[e.title?(l(),h("span",H,i(e.title),1)):d("",!0)],!0)])])]),close:o(()=>[u("div",U,[e.showFullscreenToggle?(l(),n(a(_),{key:0,size:"18",class:"g-modal__icon g-modal__icon--fullscreen",onClick:b(x,["stop"])},{default:o(()=>[(l(),n(v(r.value?a(G):a(L))))]),_:1})):d("",!0),f(a(_),{size:"18",class:"g-modal__icon g-modal__icon--close",onClick:b(z,["stop"])},{default:o(()=>[f(a(M))]),_:1})])]),action:o(()=>[c(t.$slots,"footer",{},()=>[e.showFooter&&e.preset==="dialog"?(l(),h("div",K,[f(a(k),{justify:"end",size:8},{default:o(()=>[e.showCancel?(l(),n(a(m),{key:0,size:"small",onClick:y},{default:o(()=>[p(i(e.cancelText),1)]),_:1})):d("",!0),e.showConfirm?(l(),n(a(m),{key:1,type:"primary",size:"small",loading:e.confirmLoading,onClick:g},{default:o(()=>[p(i(e.confirmText),1)]),_:1},8,["loading"])):d("",!0)]),_:1})])):d("",!0)],!0)]),footer:o(()=>[c(t.$slots,"footer",{},()=>[e.showFooter&&e.preset!=="dialog"?(l(),h("div",W,[f(a(k),{justify:"end",size:8},{default:o(()=>[e.showCancel?(l(),n(a(m),{key:0,size:"small",onClick:y},{default:o(()=>[p(i(e.cancelText),1)]),_:1})):d("",!0),e.showConfirm?(l(),n(a(m),{key:1,type:"primary",size:"small",loading:e.confirmLoading,onClick:g},{default:o(()=>[p(i(e.confirmText),1)]),_:1},8,["loading"])):d("",!0)]),_:1})])):d("",!0)],!0)]),default:o(()=>[u("div",J,[c(t.$slots,"default",{},void 0,!0)])]),_:3},8,["class","show","preset","style","draggable","unstable-show-mask","mask-closable","closable","auto-focus","block-scroll","to","segmented","bordered"]))}}),ee=E(q,[["__scopeId","data-v-9df47ca9"]]);export{ee as G};
