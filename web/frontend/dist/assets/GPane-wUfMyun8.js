import{O as q,P as V,Q as B,R as J,S as K,d as Y,T as b,U as ee,V as te,W as I,c as z,r as C,X as ie,Y as ne,Z as se,$ as ae,a0 as F,a1 as O,a2 as j,a3 as H,b as W,o as N,h as re,n as M,g as G,a4 as A,a5 as g,f as le,w as X,_ as oe}from"./index-5EEl7uBB.js";function de(t){const{primaryColorHover:a,borderColor:r}=t;return{resizableTriggerColorHover:a,resizableTriggerColor:r}}const ce={common:q,self:de},ue=V("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[B("horizontal",`
 flex-direction: row;
 `),B("vertical",`
 flex-direction: column;
 `),V("split-pane-1",`
 overflow: hidden;
 `),V("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),J("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[B("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),K("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),ge=Object.assign(Object.assign({},I.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),fe=Y({name:"Split",props:ge,slots:Object,setup(t){var a;const{mergedClsPrefixRef:r,inlineThemeDisabled:n}=te(t),l=I("Split","-split",ue,ce,t,r),d=z(()=>{const{common:{cubicBezierEaseInOut:i},self:{resizableTriggerColor:s,resizableTriggerColorHover:c}}=l.value;return{"--n-bezier":i,"--n-resize-trigger-color":s,"--n-resize-trigger-color-hover":c}}),o=C(null),h=C(!1),R=ie(t,"size"),v=C(t.defaultSize);!((a=t.watchProps)===null||a===void 0)&&a.includes("defaultSize")&&ne(()=>v.value=t.defaultSize);const S=i=>{const s=t["onUpdate:size"];t.onUpdateSize&&j(t.onUpdateSize,i),s&&j(s,i),v.value=i},$=se(R,v),w=z(()=>{const i=$.value;if(typeof i=="string")return{flex:`0 0 ${i}`};if(typeof i=="number"){const s=i*100;return{flex:`0 0 calc(${s}% - ${t.resizeTriggerSize*s/100}px)`}}}),x=z(()=>t.direction==="horizontal"?{width:`${t.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${t.resizeTriggerSize}px`}),D=z(()=>{const i=t.direction==="horizontal";return{width:i?`${t.resizeTriggerSize}px`:"",height:i?"":`${t.resizeTriggerSize}px`,cursor:t.direction==="horizontal"?"col-resize":"row-resize"}});let m=0;const k=i=>{i.preventDefault(),h.value=!0,t.onDragStart&&t.onDragStart(i);const s="mousemove",c="mouseup",u=f=>{_(f),t.onDragMove&&t.onDragMove(f)},y=()=>{H(s,document,u),H(c,document,y),h.value=!1,t.onDragEnd&&t.onDragEnd(i),document.body.style.cursor=""};document.body.style.cursor=D.value.cursor,F(s,document,u),F(c,document,y);const P=o.value;if(P){const f=P.getBoundingClientRect();t.direction==="horizontal"?m=i.clientX-f.left:m=f.top-i.clientY}_(i)};function _(i){var s,c;const u=(c=(s=o.value)===null||s===void 0?void 0:s.parentElement)===null||c===void 0?void 0:c.getBoundingClientRect();if(!u)return;const{direction:y}=t,P=u.width-t.resizeTriggerSize,f=u.height-t.resizeTriggerSize,T=y==="horizontal"?P:f,L=y==="horizontal"?i.clientX-u.left-m:i.clientY-u.top+m,{min:U,max:E}=t,Q=typeof U=="string"?O(U):U*T,Z=typeof E=="string"?O(E):E*T;let p=L;p=Math.max(p,Q),p=Math.min(p,Z,T),typeof $.value=="string"?S(`${p}px`):S(p/T)}const e=n?ae("split",void 0,d,t):void 0;return{themeClass:e==null?void 0:e.themeClass,onRender:e==null?void 0:e.onRender,cssVars:n?void 0:d,resizeTriggerElRef:o,isDragging:h,mergedClsPrefix:r,resizeTriggerWrapperStyle:D,resizeTriggerStyle:x,handleMouseDown:k,firstPaneStyle:w}},render(){var t,a,r,n,l;return(t=this.onRender)===null||t===void 0||t.call(this),b("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},b("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(r=(a=this.$slots)[1])===null||r===void 0?void 0:r.call(a)),!this.disabled&&b("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},ee(this.$slots["resize-trigger"],()=>[b("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),b("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(l=(n=this.$slots)[2])===null||l===void 0?void 0:l.call(n)))}}),ze=Y({name:"GPane",__name:"GPane",props:{direction:{default:"vertical"},defaultSize:{},size:{},min:{default:0},max:{default:1},resizeTriggerSize:{default:2},disabled:{type:Boolean,default:!1},noResize:{type:Boolean,default:!1},pane1Class:{},pane1Style:{},pane2Class:{},pane2Style:{}},emits:["update:size","drag-start","drag-end"],setup(t,{expose:a,emit:r}){const n=t,l=r,d=C(!0),o=C(n.size),h=e=>{d.value&&(o.value=e,l("update:size",e))},R=e=>{l("drag-start",e)},v=e=>{l("drag-end",e)},S=z(()=>{if(!d.value)return 1;const e=n.defaultSize;if(typeof e=="number")return Math.max(0,Math.min(1,e));if(typeof e=="string"){if(e.endsWith("%")){const s=parseFloat(e)/100;return Math.max(0,Math.min(1,s))}const i=parseFloat(e);if(!isNaN(i))return Math.max(0,Math.min(1,i<=1?i:i/100))}return .5}),$=z(()=>{if(!n.noResize||n.defaultSize===void 0)return n.pane1Style||{};const e=typeof n.pane1Style=="string"?{}:n.pane1Style||{},i=S.value;return{...e,flex:`${i} ${i} 0`}}),w=z(()=>{if(!n.noResize||n.defaultSize===void 0)return n.pane2Style||{};const e=typeof n.pane2Style=="string"?{}:n.pane2Style||{},s=1-S.value;return{...e,flex:`${s} ${s} 0`}}),x=e=>{d.value=e,e?n.size===void 0&&(o.value=n.defaultSize):o.value=1};return a({setPane2Visible:x,getPane2Visible:()=>d.value,togglePane2Visible:()=>{x(!d.value)},setSize:e=>{o.value=e,l("update:size",e)},getSize:()=>o.value??n.defaultSize}),(e,i)=>(N(),W("div",{class:M(["g-pane",`g-pane--${e.direction}`])},[e.noResize?(N(),W("div",{key:0,class:M(["g-pane__flex-container",`g-pane__flex-container--${e.direction}`])},[G("div",{class:M(["g-pane__flex-pane g-pane__flex-pane--1",e.pane1Class]),style:A($.value)},[g(e.$slots,"1",{},()=>[g(e.$slots,"pane1",{},void 0,!0)],!0)],6),G("div",{class:M(["g-pane__flex-pane g-pane__flex-pane--2",e.pane2Class]),style:A(w.value)},[g(e.$slots,"2",{},()=>[g(e.$slots,"pane2",{},void 0,!0)],!0)],6)],2)):(N(),re(le(fe),{key:1,direction:e.direction,"default-size":e.defaultSize,size:o.value,min:e.min,max:e.max,"resize-trigger-size":e.resizeTriggerSize,disabled:e.disabled,"pane1-class":e.pane1Class,"pane1-style":e.pane1Style,"pane2-class":e.pane2Class,"pane2-style":e.pane2Style,"onUpdate:size":h,"on-drag-start":R,"on-drag-end":v},{1:X(()=>[g(e.$slots,"1",{},()=>[g(e.$slots,"pane1",{},void 0,!0)],!0)]),2:X(()=>[g(e.$slots,"2",{},()=>[g(e.$slots,"pane2",{},void 0,!0)],!0)]),_:3},8,["direction","default-size","size","min","max","resize-trigger-size","disabled","pane1-class","pane1-style","pane2-class","pane2-style"]))],2))}}),he=oe(ze,[["__scopeId","data-v-6be22735"]]);export{he as G};
